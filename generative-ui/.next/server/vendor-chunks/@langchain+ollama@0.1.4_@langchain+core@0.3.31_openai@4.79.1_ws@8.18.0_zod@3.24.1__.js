"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__";
exports.ids = ["vendor-chunks/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/chat_models.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/chat_models.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOllama: () => (/* binding */ ChatOllama)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/messages.js\");\n/* harmony import */ var _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/language_models/chat_models */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/language_models/chat_models.js\");\n/* harmony import */ var ollama_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ollama/browser */ \"(rsc)/./node_modules/.pnpm/ollama@0.5.12/node_modules/ollama/dist/browser.mjs\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/outputs.js\");\n/* harmony import */ var _langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/utils/function_calling */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/utils/function_calling.js\");\n/* harmony import */ var _langchain_core_utils_stream__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/utils/stream */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/utils/stream.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/utils.js\");\n\n\n\n\n\n\n\n\n/**\n * Ollama chat model integration.\n *\n * Setup:\n * Install `@langchain/ollama` and the Ollama app.\n *\n * ```bash\n * npm install @langchain/ollama\n * ```\n *\n * ## [Constructor args](https://api.js.langchain.com/classes/_langchain_ollama.ChatOllama.html#constructor)\n *\n * ## [Runtime args](https://api.js.langchain.com/interfaces/_langchain_ollama.ChatOllamaCallOptions.html)\n *\n * Runtime args can be passed as the second argument to any of the base runnable methods `.invoke`. `.stream`, `.batch`, etc.\n * They can also be passed via `.bind`, or the second arg in `.bindTools`, like shown in the examples below:\n *\n * ```typescript\n * // When calling `.bind`, call options should be passed via the first argument\n * const llmWithArgsBound = llm.bind({\n *   stop: [\"\\n\"],\n *   tools: [...],\n * });\n *\n * // When calling `.bindTools`, call options should be passed via the second argument\n * const llmWithTools = llm.bindTools(\n *   [...],\n *   {\n *     stop: [\"\\n\"],\n *   }\n * );\n * ```\n *\n * ## Examples\n *\n * <details open>\n * <summary><strong>Instantiate</strong></summary>\n *\n * ```typescript\n * import { ChatOllama } from '@langchain/ollama';\n *\n * const llm = new ChatOllama({\n *   model: \"llama-3.1:8b\",\n *   temperature: 0,\n *   // other params...\n * });\n * ```\n * </details>\n *\n * <br />\n *\n * <details>\n * <summary><strong>Invoking</strong></summary>\n *\n * ```typescript\n * const input = `Translate \"I love programming\" into French.`;\n *\n * // Models also accept a list of chat messages or a formatted prompt\n * const result = await llm.invoke(input);\n * console.log(result);\n * ```\n *\n * ```txt\n * AIMessage {\n *   \"content\": \"The translation of \\\"I love programming\\\" into French is:\\n\\n\\\"J'adore programmer.\\\"\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {\n *     \"model\": \"llama3.1:8b\",\n *     \"created_at\": \"2024-08-12T22:12:23.09468Z\",\n *     \"done_reason\": \"stop\",\n *     \"done\": true,\n *     \"total_duration\": 3715571291,\n *     \"load_duration\": 35244375,\n *     \"prompt_eval_count\": 19,\n *     \"prompt_eval_duration\": 3092116000,\n *     \"eval_count\": 20,\n *     \"eval_duration\": 585789000\n *   },\n *   \"tool_calls\": [],\n *   \"invalid_tool_calls\": [],\n *   \"usage_metadata\": {\n *     \"input_tokens\": 19,\n *     \"output_tokens\": 20,\n *     \"total_tokens\": 39\n *   }\n * }\n * ```\n * </details>\n *\n * <br />\n *\n * <details>\n * <summary><strong>Streaming Chunks</strong></summary>\n *\n * ```typescript\n * for await (const chunk of await llm.stream(input)) {\n *   console.log(chunk);\n * }\n * ```\n *\n * ```txt\n * AIMessageChunk {\n *   \"content\": \"The\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {},\n *   \"tool_calls\": [],\n *   \"tool_call_chunks\": [],\n *   \"invalid_tool_calls\": []\n * }\n * AIMessageChunk {\n *   \"content\": \" translation\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {},\n *   \"tool_calls\": [],\n *   \"tool_call_chunks\": [],\n *   \"invalid_tool_calls\": []\n * }\n * AIMessageChunk {\n *   \"content\": \" of\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {},\n *   \"tool_calls\": [],\n *   \"tool_call_chunks\": [],\n *   \"invalid_tool_calls\": []\n * }\n * AIMessageChunk {\n *   \"content\": \" \\\"\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {},\n *   \"tool_calls\": [],\n *   \"tool_call_chunks\": [],\n *   \"invalid_tool_calls\": []\n * }\n * AIMessageChunk {\n *   \"content\": \"I\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {},\n *   \"tool_calls\": [],\n *   \"tool_call_chunks\": [],\n *   \"invalid_tool_calls\": []\n * }\n * ...\n * AIMessageChunk {\n *   \"content\": \"\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {},\n *   \"tool_calls\": [],\n *   \"tool_call_chunks\": [],\n *   \"invalid_tool_calls\": []\n * }\n * AIMessageChunk {\n *   \"content\": \"\",\n *   \"additional_kwargs\": {},\n *   \"response_metadata\": {\n *     \"model\": \"llama3.1:8b\",\n *     \"created_at\": \"2024-08-12T22:13:22.22423Z\",\n *     \"done_reason\": \"stop\",\n *     \"done\": true,\n *     \"total_duration\": 8599883208,\n *     \"load_duration\": 35975875,\n *     \"prompt_eval_count\": 19,\n *     \"prompt_eval_duration\": 7918195000,\n *     \"eval_count\": 20,\n *     \"eval_duration\": 643569000\n *   },\n *   \"tool_calls\": [],\n *   \"tool_call_chunks\": [],\n *   \"invalid_tool_calls\": [],\n *   \"usage_metadata\": {\n *     \"input_tokens\": 19,\n *     \"output_tokens\": 20,\n *     \"total_tokens\": 39\n *   }\n * }\n * ```\n * </details>\n *\n * <br />\n *\n * <details>\n * <summary><strong>Bind tools</strong></summary>\n *\n * ```typescript\n * import { z } from 'zod';\n *\n * const GetWeather = {\n *   name: \"GetWeather\",\n *   description: \"Get the current weather in a given location\",\n *   schema: z.object({\n *     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n *   }),\n * }\n *\n * const GetPopulation = {\n *   name: \"GetPopulation\",\n *   description: \"Get the current population in a given location\",\n *   schema: z.object({\n *     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n *   }),\n * }\n *\n * const llmWithTools = llm.bindTools([GetWeather, GetPopulation]);\n * const aiMsg = await llmWithTools.invoke(\n *   \"Which city is hotter today and which is bigger: LA or NY?\"\n * );\n * console.log(aiMsg.tool_calls);\n * ```\n *\n * ```txt\n * [\n *   {\n *     name: 'GetWeather',\n *     args: { location: 'Los Angeles, CA' },\n *     id: '49410cad-2163-415e-bdcd-d26938a9c8c5',\n *     type: 'tool_call'\n *   },\n *   {\n *     name: 'GetPopulation',\n *     args: { location: 'New York, NY' },\n *     id: '39e230e4-63ec-4fae-9df0-21c3abe735ad',\n *     type: 'tool_call'\n *   }\n * ]\n * ```\n * </details>\n *\n * <br />\n *\n * <details>\n * <summary><strong>Structured Output</strong></summary>\n *\n * ```typescript\n * import { z } from 'zod';\n *\n * const Joke = z.object({\n *   setup: z.string().describe(\"The setup of the joke\"),\n *   punchline: z.string().describe(\"The punchline to the joke\"),\n *   rating: z.number().optional().describe(\"How funny the joke is, from 1 to 10\")\n * }).describe('Joke to tell user.');\n *\n * const structuredLlm = llm.withStructuredOutput(Joke, { name: \"Joke\" });\n * const jokeResult = await structuredLlm.invoke(\"Tell me a joke about cats\");\n * console.log(jokeResult);\n * ```\n *\n * ```txt\n * {\n *   punchline: 'Why did the cat join a band? Because it wanted to be the purr-cussionist!',\n *   rating: 8,\n *   setup: 'A cat walks into a music store and asks the owner...'\n * }\n * ```\n * </details>\n *\n * <br />\n *\n * <details>\n * <summary><strong>Usage Metadata</strong></summary>\n *\n * ```typescript\n * const aiMsgForMetadata = await llm.invoke(input);\n * console.log(aiMsgForMetadata.usage_metadata);\n * ```\n *\n * ```txt\n * { input_tokens: 19, output_tokens: 20, total_tokens: 39 }\n * ```\n * </details>\n *\n * <br />\n *\n * <details>\n * <summary><strong>Response Metadata</strong></summary>\n *\n * ```typescript\n * const aiMsgForResponseMetadata = await llm.invoke(input);\n * console.log(aiMsgForResponseMetadata.response_metadata);\n * ```\n *\n * ```txt\n * {\n *   model: 'llama3.1:8b',\n *   created_at: '2024-08-12T22:17:42.274795Z',\n *   done_reason: 'stop',\n *   done: true,\n *   total_duration: 6767071209,\n *   load_duration: 31628209,\n *   prompt_eval_count: 19,\n *   prompt_eval_duration: 6124504000,\n *   eval_count: 20,\n *   eval_duration: 608785000\n * }\n * ```\n * </details>\n *\n * <br />\n */\nclass ChatOllama extends _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_1__.BaseChatModel {\n    // Used for tracing, replace with the same name as your class\n    static lc_name() {\n        return \"ChatOllama\";\n    }\n    constructor(fields) {\n        super(fields ?? {});\n        Object.defineProperty(this, \"model\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"llama3\"\n        });\n        Object.defineProperty(this, \"numa\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numCtx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numBatch\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numGpu\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mainGpu\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"lowVram\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"f16Kv\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"logitsAll\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"vocabOnly\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"useMmap\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"useMlock\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"embeddingOnly\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numThread\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numKeep\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"seed\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numPredict\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"topK\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"topP\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"tfsZ\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"typicalP\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"repeatLastN\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"temperature\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"repeatPenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"presencePenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"frequencyPenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mirostat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mirostatTau\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mirostatEta\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"penalizeNewline\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"streaming\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"format\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"keepAlive\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"checkOrPullModel\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"http://127.0.0.1:11434\"\n        });\n        this.client = new ollama_browser__WEBPACK_IMPORTED_MODULE_2__.Ollama({\n            host: fields?.baseUrl,\n            headers: fields?.headers,\n        });\n        this.baseUrl = fields?.baseUrl ?? this.baseUrl;\n        this.model = fields?.model ?? this.model;\n        this.numa = fields?.numa;\n        this.numCtx = fields?.numCtx;\n        this.numBatch = fields?.numBatch;\n        this.numGpu = fields?.numGpu;\n        this.mainGpu = fields?.mainGpu;\n        this.lowVram = fields?.lowVram;\n        this.f16Kv = fields?.f16Kv;\n        this.logitsAll = fields?.logitsAll;\n        this.vocabOnly = fields?.vocabOnly;\n        this.useMmap = fields?.useMmap;\n        this.useMlock = fields?.useMlock;\n        this.embeddingOnly = fields?.embeddingOnly;\n        this.numThread = fields?.numThread;\n        this.numKeep = fields?.numKeep;\n        this.seed = fields?.seed;\n        this.numPredict = fields?.numPredict;\n        this.topK = fields?.topK;\n        this.topP = fields?.topP;\n        this.tfsZ = fields?.tfsZ;\n        this.typicalP = fields?.typicalP;\n        this.repeatLastN = fields?.repeatLastN;\n        this.temperature = fields?.temperature;\n        this.repeatPenalty = fields?.repeatPenalty;\n        this.presencePenalty = fields?.presencePenalty;\n        this.frequencyPenalty = fields?.frequencyPenalty;\n        this.mirostat = fields?.mirostat;\n        this.mirostatTau = fields?.mirostatTau;\n        this.mirostatEta = fields?.mirostatEta;\n        this.penalizeNewline = fields?.penalizeNewline;\n        this.streaming = fields?.streaming;\n        this.format = fields?.format;\n        this.keepAlive = fields?.keepAlive;\n        this.checkOrPullModel = fields?.checkOrPullModel ?? this.checkOrPullModel;\n    }\n    // Replace\n    _llmType() {\n        return \"ollama\";\n    }\n    /**\n     * Download a model onto the local machine.\n     *\n     * @param {string} model The name of the model to download.\n     * @param {PullModelOptions | undefined} options Options for pulling the model.\n     * @returns {Promise<void>}\n     */\n    async pull(model, options) {\n        const { stream, insecure, logProgress } = {\n            stream: true,\n            ...options,\n        };\n        if (stream) {\n            for await (const chunk of await this.client.pull({\n                model,\n                insecure,\n                stream,\n            })) {\n                if (logProgress) {\n                    console.log(chunk);\n                }\n            }\n        }\n        else {\n            const response = await this.client.pull({ model, insecure });\n            if (logProgress) {\n                console.log(response);\n            }\n        }\n    }\n    bindTools(tools, kwargs) {\n        return this.bind({\n            tools: tools.map((tool) => (0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_4__.convertToOpenAITool)(tool)),\n            ...kwargs,\n        });\n    }\n    getLsParams(options) {\n        const params = this.invocationParams(options);\n        return {\n            ls_provider: \"ollama\",\n            ls_model_name: this.model,\n            ls_model_type: \"chat\",\n            ls_temperature: params.options?.temperature ?? undefined,\n            ls_max_tokens: params.options?.num_predict ?? undefined,\n            ls_stop: options.stop,\n        };\n    }\n    invocationParams(options) {\n        if (options?.tool_choice) {\n            throw new Error(\"Tool choice is not supported for ChatOllama.\");\n        }\n        return {\n            model: this.model,\n            format: this.format,\n            keep_alive: this.keepAlive,\n            options: {\n                numa: this.numa,\n                num_ctx: this.numCtx,\n                num_batch: this.numBatch,\n                num_gpu: this.numGpu,\n                main_gpu: this.mainGpu,\n                low_vram: this.lowVram,\n                f16_kv: this.f16Kv,\n                logits_all: this.logitsAll,\n                vocab_only: this.vocabOnly,\n                use_mmap: this.useMmap,\n                use_mlock: this.useMlock,\n                embedding_only: this.embeddingOnly,\n                num_thread: this.numThread,\n                num_keep: this.numKeep,\n                seed: this.seed,\n                num_predict: this.numPredict,\n                top_k: this.topK,\n                top_p: this.topP,\n                tfs_z: this.tfsZ,\n                typical_p: this.typicalP,\n                repeat_last_n: this.repeatLastN,\n                temperature: this.temperature,\n                repeat_penalty: this.repeatPenalty,\n                presence_penalty: this.presencePenalty,\n                frequency_penalty: this.frequencyPenalty,\n                mirostat: this.mirostat,\n                mirostat_tau: this.mirostatTau,\n                mirostat_eta: this.mirostatEta,\n                penalize_newline: this.penalizeNewline,\n                stop: options?.stop,\n            },\n            tools: options?.tools?.length\n                ? options.tools.map((tool) => (0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_4__.convertToOpenAITool)(tool))\n                : undefined,\n        };\n    }\n    /**\n     * Check if a model exists on the local machine.\n     *\n     * @param {string} model The name of the model to check.\n     * @returns {Promise<boolean>} Whether or not the model exists.\n     */\n    async checkModelExistsOnMachine(model) {\n        const { models } = await this.client.list();\n        return !!models.find((m) => m.name === model || m.name === `${model}:latest`);\n    }\n    async _generate(messages, options, runManager) {\n        if (this.checkOrPullModel) {\n            if (!(await this.checkModelExistsOnMachine(this.model))) {\n                await this.pull(this.model, {\n                    logProgress: true,\n                });\n            }\n        }\n        let finalChunk;\n        for await (const chunk of this._streamResponseChunks(messages, options, runManager)) {\n            if (!finalChunk) {\n                finalChunk = chunk.message;\n            }\n            else {\n                finalChunk = (0,_langchain_core_utils_stream__WEBPACK_IMPORTED_MODULE_5__.concat)(finalChunk, chunk.message);\n            }\n        }\n        // Convert from AIMessageChunk to AIMessage since `generate` expects AIMessage.\n        const nonChunkMessage = new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.AIMessage({\n            id: finalChunk?.id,\n            content: finalChunk?.content ?? \"\",\n            tool_calls: finalChunk?.tool_calls,\n            response_metadata: finalChunk?.response_metadata,\n            usage_metadata: finalChunk?.usage_metadata,\n        });\n        return {\n            generations: [\n                {\n                    text: typeof nonChunkMessage.content === \"string\"\n                        ? nonChunkMessage.content\n                        : \"\",\n                    message: nonChunkMessage,\n                },\n            ],\n        };\n    }\n    /**\n     * Implement to support streaming.\n     * Should yield chunks iteratively.\n     */\n    async *_streamResponseChunks(messages, options, runManager) {\n        if (this.checkOrPullModel) {\n            if (!(await this.checkModelExistsOnMachine(this.model))) {\n                await this.pull(this.model, {\n                    logProgress: true,\n                });\n            }\n        }\n        const params = this.invocationParams(options);\n        // TODO: remove cast after SDK adds support for tool calls\n        const ollamaMessages = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.convertToOllamaMessages)(messages);\n        const usageMetadata = {\n            input_tokens: 0,\n            output_tokens: 0,\n            total_tokens: 0,\n        };\n        if (params.tools && params.tools.length > 0) {\n            const toolResult = await this.client.chat({\n                ...params,\n                messages: ollamaMessages,\n                stream: false, // Ollama currently does not support streaming with tools\n            });\n            const { message: responseMessage, ...rest } = toolResult;\n            usageMetadata.input_tokens += rest.prompt_eval_count ?? 0;\n            usageMetadata.output_tokens += rest.eval_count ?? 0;\n            usageMetadata.total_tokens =\n                usageMetadata.input_tokens + usageMetadata.output_tokens;\n            yield new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__.ChatGenerationChunk({\n                text: responseMessage.content,\n                message: (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.convertOllamaMessagesToLangChain)(responseMessage, {\n                    responseMetadata: rest,\n                    usageMetadata,\n                }),\n            });\n            return runManager?.handleLLMNewToken(responseMessage.content);\n        }\n        const stream = await this.client.chat({\n            ...params,\n            messages: ollamaMessages,\n            stream: true,\n        });\n        let lastMetadata;\n        for await (const chunk of stream) {\n            if (options.signal?.aborted) {\n                this.client.abort();\n            }\n            const { message: responseMessage, ...rest } = chunk;\n            usageMetadata.input_tokens += rest.prompt_eval_count ?? 0;\n            usageMetadata.output_tokens += rest.eval_count ?? 0;\n            usageMetadata.total_tokens =\n                usageMetadata.input_tokens + usageMetadata.output_tokens;\n            lastMetadata = rest;\n            yield new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__.ChatGenerationChunk({\n                text: responseMessage.content ?? \"\",\n                message: (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.convertOllamaMessagesToLangChain)(responseMessage),\n            });\n            await runManager?.handleLLMNewToken(responseMessage.content ?? \"\");\n        }\n        // Yield the `response_metadata` as the final chunk.\n        yield new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__.ChatGenerationChunk({\n            text: \"\",\n            message: new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.AIMessageChunk({\n                content: \"\",\n                response_metadata: lastMetadata,\n                usage_metadata: usageMetadata,\n            }),\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvbGxhbWFAMC4xLjRfQGxhbmdjaGFpbitjb3JlQDAuMy4zMV9vcGVuYWlANC43OS4xX3dzQDguMTguMF96b2RAMy4yNC4xX18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb2xsYW1hL2Rpc3QvY2hhdF9tb2RlbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0Q7QUFDdUI7QUFDckM7QUFDc0I7QUFDSjtBQUNtQjtBQUN2QjtBQUNrQztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksSUFBSTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZCQUE2QjtBQUM1QztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxlQUFlLDBCQUEwQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksSUFBSTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsMERBQTBELGNBQWM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLHNGQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsMEJBQTBCLGtEQUFNO0FBQ2hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSw4QkFBOEI7QUFDN0MsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsZ0NBQWdDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGlCQUFpQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyRkFBbUI7QUFDMUQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsOENBQThDLDJGQUFtQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekIsc0VBQXNFLE1BQU07QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0VBQU07QUFDbkM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLCtEQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGtFQUF1QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixvQkFBb0Isb0NBQW9DO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHdFQUFtQjtBQUN6QztBQUNBLHlCQUF5QiwyRUFBZ0M7QUFDekQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0NBQW9DO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0VBQW1CO0FBQ3pDO0FBQ0EseUJBQXlCLDJFQUFnQztBQUN6RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUFtQjtBQUNyQztBQUNBLHlCQUF5QixvRUFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sYW5nY2hhaW4tbmV4dGpzLXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb2xsYW1hQDAuMS40X0BsYW5nY2hhaW4rY29yZUAwLjMuMzFfb3BlbmFpQDQuNzkuMV93c0A4LjE4LjBfem9kQDMuMjQuMV9fL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29sbGFtYS9kaXN0L2NoYXRfbW9kZWxzLmpzP2QzNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQUlNZXNzYWdlLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcbmltcG9ydCB7IEJhc2VDaGF0TW9kZWwsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9sYW5ndWFnZV9tb2RlbHMvY2hhdF9tb2RlbHNcIjtcbmltcG9ydCB7IE9sbGFtYSB9IGZyb20gXCJvbGxhbWEvYnJvd3NlclwiO1xuaW1wb3J0IHsgQ2hhdEdlbmVyYXRpb25DaHVuayB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0c1wiO1xuaW1wb3J0IHsgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5pbXBvcnQgeyBjb252ZXJ0VG9PcGVuQUlUb29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9mdW5jdGlvbl9jYWxsaW5nXCI7XG5pbXBvcnQgeyBjb25jYXQgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL3N0cmVhbVwiO1xuaW1wb3J0IHsgY29udmVydE9sbGFtYU1lc3NhZ2VzVG9MYW5nQ2hhaW4sIGNvbnZlcnRUb09sbGFtYU1lc3NhZ2VzLCB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG4vKipcbiAqIE9sbGFtYSBjaGF0IG1vZGVsIGludGVncmF0aW9uLlxuICpcbiAqIFNldHVwOlxuICogSW5zdGFsbCBgQGxhbmdjaGFpbi9vbGxhbWFgIGFuZCB0aGUgT2xsYW1hIGFwcC5cbiAqXG4gKiBgYGBiYXNoXG4gKiBucG0gaW5zdGFsbCBAbGFuZ2NoYWluL29sbGFtYVxuICogYGBgXG4gKlxuICogIyMgW0NvbnN0cnVjdG9yIGFyZ3NdKGh0dHBzOi8vYXBpLmpzLmxhbmdjaGFpbi5jb20vY2xhc3Nlcy9fbGFuZ2NoYWluX29sbGFtYS5DaGF0T2xsYW1hLmh0bWwjY29uc3RydWN0b3IpXG4gKlxuICogIyMgW1J1bnRpbWUgYXJnc10oaHR0cHM6Ly9hcGkuanMubGFuZ2NoYWluLmNvbS9pbnRlcmZhY2VzL19sYW5nY2hhaW5fb2xsYW1hLkNoYXRPbGxhbWFDYWxsT3B0aW9ucy5odG1sKVxuICpcbiAqIFJ1bnRpbWUgYXJncyBjYW4gYmUgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYW55IG9mIHRoZSBiYXNlIHJ1bm5hYmxlIG1ldGhvZHMgYC5pbnZva2VgLiBgLnN0cmVhbWAsIGAuYmF0Y2hgLCBldGMuXG4gKiBUaGV5IGNhbiBhbHNvIGJlIHBhc3NlZCB2aWEgYC5iaW5kYCwgb3IgdGhlIHNlY29uZCBhcmcgaW4gYC5iaW5kVG9vbHNgLCBsaWtlIHNob3duIGluIHRoZSBleGFtcGxlcyBiZWxvdzpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBXaGVuIGNhbGxpbmcgYC5iaW5kYCwgY2FsbCBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudFxuICogY29uc3QgbGxtV2l0aEFyZ3NCb3VuZCA9IGxsbS5iaW5kKHtcbiAqICAgc3RvcDogW1wiXFxuXCJdLFxuICogICB0b29sczogWy4uLl0sXG4gKiB9KTtcbiAqXG4gKiAvLyBXaGVuIGNhbGxpbmcgYC5iaW5kVG9vbHNgLCBjYWxsIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgdGhlIHNlY29uZCBhcmd1bWVudFxuICogY29uc3QgbGxtV2l0aFRvb2xzID0gbGxtLmJpbmRUb29scyhcbiAqICAgWy4uLl0sXG4gKiAgIHtcbiAqICAgICBzdG9wOiBbXCJcXG5cIl0sXG4gKiAgIH1cbiAqICk7XG4gKiBgYGBcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIDxkZXRhaWxzIG9wZW4+XG4gKiA8c3VtbWFyeT48c3Ryb25nPkluc3RhbnRpYXRlPC9zdHJvbmc+PC9zdW1tYXJ5PlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IENoYXRPbGxhbWEgfSBmcm9tICdAbGFuZ2NoYWluL29sbGFtYSc7XG4gKlxuICogY29uc3QgbGxtID0gbmV3IENoYXRPbGxhbWEoe1xuICogICBtb2RlbDogXCJsbGFtYS0zLjE6OGJcIixcbiAqICAgdGVtcGVyYXR1cmU6IDAsXG4gKiAgIC8vIG90aGVyIHBhcmFtcy4uLlxuICogfSk7XG4gKiBgYGBcbiAqIDwvZGV0YWlscz5cbiAqXG4gKiA8YnIgLz5cbiAqXG4gKiA8ZGV0YWlscz5cbiAqIDxzdW1tYXJ5PjxzdHJvbmc+SW52b2tpbmc8L3N0cm9uZz48L3N1bW1hcnk+XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgaW5wdXQgPSBgVHJhbnNsYXRlIFwiSSBsb3ZlIHByb2dyYW1taW5nXCIgaW50byBGcmVuY2guYDtcbiAqXG4gKiAvLyBNb2RlbHMgYWxzbyBhY2NlcHQgYSBsaXN0IG9mIGNoYXQgbWVzc2FnZXMgb3IgYSBmb3JtYXR0ZWQgcHJvbXB0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBsbG0uaW52b2tlKGlucHV0KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gKiBgYGBcbiAqXG4gKiBgYGB0eHRcbiAqIEFJTWVzc2FnZSB7XG4gKiAgIFwiY29udGVudFwiOiBcIlRoZSB0cmFuc2xhdGlvbiBvZiBcXFwiSSBsb3ZlIHByb2dyYW1taW5nXFxcIiBpbnRvIEZyZW5jaCBpczpcXG5cXG5cXFwiSidhZG9yZSBwcm9ncmFtbWVyLlxcXCJcIixcbiAqICAgXCJhZGRpdGlvbmFsX2t3YXJnc1wiOiB7fSxcbiAqICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7XG4gKiAgICAgXCJtb2RlbFwiOiBcImxsYW1hMy4xOjhiXCIsXG4gKiAgICAgXCJjcmVhdGVkX2F0XCI6IFwiMjAyNC0wOC0xMlQyMjoxMjoyMy4wOTQ2OFpcIixcbiAqICAgICBcImRvbmVfcmVhc29uXCI6IFwic3RvcFwiLFxuICogICAgIFwiZG9uZVwiOiB0cnVlLFxuICogICAgIFwidG90YWxfZHVyYXRpb25cIjogMzcxNTU3MTI5MSxcbiAqICAgICBcImxvYWRfZHVyYXRpb25cIjogMzUyNDQzNzUsXG4gKiAgICAgXCJwcm9tcHRfZXZhbF9jb3VudFwiOiAxOSxcbiAqICAgICBcInByb21wdF9ldmFsX2R1cmF0aW9uXCI6IDMwOTIxMTYwMDAsXG4gKiAgICAgXCJldmFsX2NvdW50XCI6IDIwLFxuICogICAgIFwiZXZhbF9kdXJhdGlvblwiOiA1ODU3ODkwMDBcbiAqICAgfSxcbiAqICAgXCJ0b29sX2NhbGxzXCI6IFtdLFxuICogICBcImludmFsaWRfdG9vbF9jYWxsc1wiOiBbXSxcbiAqICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4gKiAgICAgXCJpbnB1dF90b2tlbnNcIjogMTksXG4gKiAgICAgXCJvdXRwdXRfdG9rZW5zXCI6IDIwLFxuICogICAgIFwidG90YWxfdG9rZW5zXCI6IDM5XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogPC9kZXRhaWxzPlxuICpcbiAqIDxiciAvPlxuICpcbiAqIDxkZXRhaWxzPlxuICogPHN1bW1hcnk+PHN0cm9uZz5TdHJlYW1pbmcgQ2h1bmtzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXdhaXQgbGxtLnN0cmVhbShpbnB1dCkpIHtcbiAqICAgY29uc29sZS5sb2coY2h1bmspO1xuICogfVxuICogYGBgXG4gKlxuICogYGBgdHh0XG4gKiBBSU1lc3NhZ2VDaHVuayB7XG4gKiAgIFwiY29udGVudFwiOiBcIlRoZVwiLFxuICogICBcImFkZGl0aW9uYWxfa3dhcmdzXCI6IHt9LFxuICogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHt9LFxuICogICBcInRvb2xfY2FsbHNcIjogW10sXG4gKiAgIFwidG9vbF9jYWxsX2NodW5rc1wiOiBbXSxcbiAqICAgXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIjogW11cbiAqIH1cbiAqIEFJTWVzc2FnZUNodW5rIHtcbiAqICAgXCJjb250ZW50XCI6IFwiIHRyYW5zbGF0aW9uXCIsXG4gKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4gKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge30sXG4gKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiAqICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuICogICBcImludmFsaWRfdG9vbF9jYWxsc1wiOiBbXVxuICogfVxuICogQUlNZXNzYWdlQ2h1bmsge1xuICogICBcImNvbnRlbnRcIjogXCIgb2ZcIixcbiAqICAgXCJhZGRpdGlvbmFsX2t3YXJnc1wiOiB7fSxcbiAqICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7fSxcbiAqICAgXCJ0b29sX2NhbGxzXCI6IFtdLFxuICogICBcInRvb2xfY2FsbF9jaHVua3NcIjogW10sXG4gKiAgIFwiaW52YWxpZF90b29sX2NhbGxzXCI6IFtdXG4gKiB9XG4gKiBBSU1lc3NhZ2VDaHVuayB7XG4gKiAgIFwiY29udGVudFwiOiBcIiBcXFwiXCIsXG4gKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4gKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge30sXG4gKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiAqICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuICogICBcImludmFsaWRfdG9vbF9jYWxsc1wiOiBbXVxuICogfVxuICogQUlNZXNzYWdlQ2h1bmsge1xuICogICBcImNvbnRlbnRcIjogXCJJXCIsXG4gKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4gKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge30sXG4gKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiAqICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuICogICBcImludmFsaWRfdG9vbF9jYWxsc1wiOiBbXVxuICogfVxuICogLi4uXG4gKiBBSU1lc3NhZ2VDaHVuayB7XG4gKiAgIFwiY29udGVudFwiOiBcIlwiLFxuICogICBcImFkZGl0aW9uYWxfa3dhcmdzXCI6IHt9LFxuICogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHt9LFxuICogICBcInRvb2xfY2FsbHNcIjogW10sXG4gKiAgIFwidG9vbF9jYWxsX2NodW5rc1wiOiBbXSxcbiAqICAgXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIjogW11cbiAqIH1cbiAqIEFJTWVzc2FnZUNodW5rIHtcbiAqICAgXCJjb250ZW50XCI6IFwiXCIsXG4gKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4gKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuICogICAgIFwibW9kZWxcIjogXCJsbGFtYTMuMTo4YlwiLFxuICogICAgIFwiY3JlYXRlZF9hdFwiOiBcIjIwMjQtMDgtMTJUMjI6MTM6MjIuMjI0MjNaXCIsXG4gKiAgICAgXCJkb25lX3JlYXNvblwiOiBcInN0b3BcIixcbiAqICAgICBcImRvbmVcIjogdHJ1ZSxcbiAqICAgICBcInRvdGFsX2R1cmF0aW9uXCI6IDg1OTk4ODMyMDgsXG4gKiAgICAgXCJsb2FkX2R1cmF0aW9uXCI6IDM1OTc1ODc1LFxuICogICAgIFwicHJvbXB0X2V2YWxfY291bnRcIjogMTksXG4gKiAgICAgXCJwcm9tcHRfZXZhbF9kdXJhdGlvblwiOiA3OTE4MTk1MDAwLFxuICogICAgIFwiZXZhbF9jb3VudFwiOiAyMCxcbiAqICAgICBcImV2YWxfZHVyYXRpb25cIjogNjQzNTY5MDAwXG4gKiAgIH0sXG4gKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiAqICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuICogICBcImludmFsaWRfdG9vbF9jYWxsc1wiOiBbXSxcbiAqICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4gKiAgICAgXCJpbnB1dF90b2tlbnNcIjogMTksXG4gKiAgICAgXCJvdXRwdXRfdG9rZW5zXCI6IDIwLFxuICogICAgIFwidG90YWxfdG9rZW5zXCI6IDM5XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogPC9kZXRhaWxzPlxuICpcbiAqIDxiciAvPlxuICpcbiAqIDxkZXRhaWxzPlxuICogPHN1bW1hcnk+PHN0cm9uZz5CaW5kIHRvb2xzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuICpcbiAqIGNvbnN0IEdldFdlYXRoZXIgPSB7XG4gKiAgIG5hbWU6IFwiR2V0V2VhdGhlclwiLFxuICogICBkZXNjcmlwdGlvbjogXCJHZXQgdGhlIGN1cnJlbnQgd2VhdGhlciBpbiBhIGdpdmVuIGxvY2F0aW9uXCIsXG4gKiAgIHNjaGVtYTogei5vYmplY3Qoe1xuICogICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNpdHkgYW5kIHN0YXRlLCBlLmcuIFNhbiBGcmFuY2lzY28sIENBXCIpXG4gKiAgIH0pLFxuICogfVxuICpcbiAqIGNvbnN0IEdldFBvcHVsYXRpb24gPSB7XG4gKiAgIG5hbWU6IFwiR2V0UG9wdWxhdGlvblwiLFxuICogICBkZXNjcmlwdGlvbjogXCJHZXQgdGhlIGN1cnJlbnQgcG9wdWxhdGlvbiBpbiBhIGdpdmVuIGxvY2F0aW9uXCIsXG4gKiAgIHNjaGVtYTogei5vYmplY3Qoe1xuICogICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNpdHkgYW5kIHN0YXRlLCBlLmcuIFNhbiBGcmFuY2lzY28sIENBXCIpXG4gKiAgIH0pLFxuICogfVxuICpcbiAqIGNvbnN0IGxsbVdpdGhUb29scyA9IGxsbS5iaW5kVG9vbHMoW0dldFdlYXRoZXIsIEdldFBvcHVsYXRpb25dKTtcbiAqIGNvbnN0IGFpTXNnID0gYXdhaXQgbGxtV2l0aFRvb2xzLmludm9rZShcbiAqICAgXCJXaGljaCBjaXR5IGlzIGhvdHRlciB0b2RheSBhbmQgd2hpY2ggaXMgYmlnZ2VyOiBMQSBvciBOWT9cIlxuICogKTtcbiAqIGNvbnNvbGUubG9nKGFpTXNnLnRvb2xfY2FsbHMpO1xuICogYGBgXG4gKlxuICogYGBgdHh0XG4gKiBbXG4gKiAgIHtcbiAqICAgICBuYW1lOiAnR2V0V2VhdGhlcicsXG4gKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ0xvcyBBbmdlbGVzLCBDQScgfSxcbiAqICAgICBpZDogJzQ5NDEwY2FkLTIxNjMtNDE1ZS1iZGNkLWQyNjkzOGE5YzhjNScsXG4gKiAgICAgdHlwZTogJ3Rvb2xfY2FsbCdcbiAqICAgfSxcbiAqICAge1xuICogICAgIG5hbWU6ICdHZXRQb3B1bGF0aW9uJyxcbiAqICAgICBhcmdzOiB7IGxvY2F0aW9uOiAnTmV3IFlvcmssIE5ZJyB9LFxuICogICAgIGlkOiAnMzllMjMwZTQtNjNlYy00ZmFlLTlkZjAtMjFjM2FiZTczNWFkJyxcbiAqICAgICB0eXBlOiAndG9vbF9jYWxsJ1xuICogICB9XG4gKiBdXG4gKiBgYGBcbiAqIDwvZGV0YWlscz5cbiAqXG4gKiA8YnIgLz5cbiAqXG4gKiA8ZGV0YWlscz5cbiAqIDxzdW1tYXJ5PjxzdHJvbmc+U3RydWN0dXJlZCBPdXRwdXQ8L3N0cm9uZz48L3N1bW1hcnk+XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG4gKlxuICogY29uc3QgSm9rZSA9IHoub2JqZWN0KHtcbiAqICAgc2V0dXA6IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgc2V0dXAgb2YgdGhlIGpva2VcIiksXG4gKiAgIHB1bmNobGluZTogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBwdW5jaGxpbmUgdG8gdGhlIGpva2VcIiksXG4gKiAgIHJhdGluZzogei5udW1iZXIoKS5vcHRpb25hbCgpLmRlc2NyaWJlKFwiSG93IGZ1bm55IHRoZSBqb2tlIGlzLCBmcm9tIDEgdG8gMTBcIilcbiAqIH0pLmRlc2NyaWJlKCdKb2tlIHRvIHRlbGwgdXNlci4nKTtcbiAqXG4gKiBjb25zdCBzdHJ1Y3R1cmVkTGxtID0gbGxtLndpdGhTdHJ1Y3R1cmVkT3V0cHV0KEpva2UsIHsgbmFtZTogXCJKb2tlXCIgfSk7XG4gKiBjb25zdCBqb2tlUmVzdWx0ID0gYXdhaXQgc3RydWN0dXJlZExsbS5pbnZva2UoXCJUZWxsIG1lIGEgam9rZSBhYm91dCBjYXRzXCIpO1xuICogY29uc29sZS5sb2coam9rZVJlc3VsdCk7XG4gKiBgYGBcbiAqXG4gKiBgYGB0eHRcbiAqIHtcbiAqICAgcHVuY2hsaW5lOiAnV2h5IGRpZCB0aGUgY2F0IGpvaW4gYSBiYW5kPyBCZWNhdXNlIGl0IHdhbnRlZCB0byBiZSB0aGUgcHVyci1jdXNzaW9uaXN0IScsXG4gKiAgIHJhdGluZzogOCxcbiAqICAgc2V0dXA6ICdBIGNhdCB3YWxrcyBpbnRvIGEgbXVzaWMgc3RvcmUgYW5kIGFza3MgdGhlIG93bmVyLi4uJ1xuICogfVxuICogYGBgXG4gKiA8L2RldGFpbHM+XG4gKlxuICogPGJyIC8+XG4gKlxuICogPGRldGFpbHM+XG4gKiA8c3VtbWFyeT48c3Ryb25nPlVzYWdlIE1ldGFkYXRhPC9zdHJvbmc+PC9zdW1tYXJ5PlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IGFpTXNnRm9yTWV0YWRhdGEgPSBhd2FpdCBsbG0uaW52b2tlKGlucHV0KTtcbiAqIGNvbnNvbGUubG9nKGFpTXNnRm9yTWV0YWRhdGEudXNhZ2VfbWV0YWRhdGEpO1xuICogYGBgXG4gKlxuICogYGBgdHh0XG4gKiB7IGlucHV0X3Rva2VuczogMTksIG91dHB1dF90b2tlbnM6IDIwLCB0b3RhbF90b2tlbnM6IDM5IH1cbiAqIGBgYFxuICogPC9kZXRhaWxzPlxuICpcbiAqIDxiciAvPlxuICpcbiAqIDxkZXRhaWxzPlxuICogPHN1bW1hcnk+PHN0cm9uZz5SZXNwb25zZSBNZXRhZGF0YTwvc3Ryb25nPjwvc3VtbWFyeT5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBhaU1zZ0ZvclJlc3BvbnNlTWV0YWRhdGEgPSBhd2FpdCBsbG0uaW52b2tlKGlucHV0KTtcbiAqIGNvbnNvbGUubG9nKGFpTXNnRm9yUmVzcG9uc2VNZXRhZGF0YS5yZXNwb25zZV9tZXRhZGF0YSk7XG4gKiBgYGBcbiAqXG4gKiBgYGB0eHRcbiAqIHtcbiAqICAgbW9kZWw6ICdsbGFtYTMuMTo4YicsXG4gKiAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTA4LTEyVDIyOjE3OjQyLjI3NDc5NVonLFxuICogICBkb25lX3JlYXNvbjogJ3N0b3AnLFxuICogICBkb25lOiB0cnVlLFxuICogICB0b3RhbF9kdXJhdGlvbjogNjc2NzA3MTIwOSxcbiAqICAgbG9hZF9kdXJhdGlvbjogMzE2MjgyMDksXG4gKiAgIHByb21wdF9ldmFsX2NvdW50OiAxOSxcbiAqICAgcHJvbXB0X2V2YWxfZHVyYXRpb246IDYxMjQ1MDQwMDAsXG4gKiAgIGV2YWxfY291bnQ6IDIwLFxuICogICBldmFsX2R1cmF0aW9uOiA2MDg3ODUwMDBcbiAqIH1cbiAqIGBgYFxuICogPC9kZXRhaWxzPlxuICpcbiAqIDxiciAvPlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdE9sbGFtYSBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuICAgIC8vIFVzZWQgZm9yIHRyYWNpbmcsIHJlcGxhY2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHlvdXIgY2xhc3NcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQ2hhdE9sbGFtYVwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzID8/IHt9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibW9kZWxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwibGxhbWEzXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm51bWFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibnVtQ3R4XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm51bUJhdGNoXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm51bUdwdVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYWluR3B1XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvd1ZyYW1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZjE2S3ZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9naXRzQWxsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZvY2FiT25seVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2VNbWFwXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZU1sb2NrXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVtYmVkZGluZ09ubHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibnVtVGhyZWFkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm51bUtlZXBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VlZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJudW1QcmVkaWN0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcEtcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wUFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZnNaXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5cGljYWxQXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlcGVhdExhc3ROXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRlbXBlcmF0dXJlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlcGVhdFBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJlc2VuY2VQZW5hbHR5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWlyb3N0YXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWlyb3N0YXRUYXVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWlyb3N0YXRFdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGVuYWxpemVOZXdsaW5lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0cmVhbWluZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb3JtYXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia2VlcEFsaXZlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGVja09yUHVsbE1vZGVsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmFzZVVybFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJodHRwOi8vMTI3LjAuMC4xOjExNDM0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IE9sbGFtYSh7XG4gICAgICAgICAgICBob3N0OiBmaWVsZHM/LmJhc2VVcmwsXG4gICAgICAgICAgICBoZWFkZXJzOiBmaWVsZHM/LmhlYWRlcnMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBmaWVsZHM/LmJhc2VVcmwgPz8gdGhpcy5iYXNlVXJsO1xuICAgICAgICB0aGlzLm1vZGVsID0gZmllbGRzPy5tb2RlbCA/PyB0aGlzLm1vZGVsO1xuICAgICAgICB0aGlzLm51bWEgPSBmaWVsZHM/Lm51bWE7XG4gICAgICAgIHRoaXMubnVtQ3R4ID0gZmllbGRzPy5udW1DdHg7XG4gICAgICAgIHRoaXMubnVtQmF0Y2ggPSBmaWVsZHM/Lm51bUJhdGNoO1xuICAgICAgICB0aGlzLm51bUdwdSA9IGZpZWxkcz8ubnVtR3B1O1xuICAgICAgICB0aGlzLm1haW5HcHUgPSBmaWVsZHM/Lm1haW5HcHU7XG4gICAgICAgIHRoaXMubG93VnJhbSA9IGZpZWxkcz8ubG93VnJhbTtcbiAgICAgICAgdGhpcy5mMTZLdiA9IGZpZWxkcz8uZjE2S3Y7XG4gICAgICAgIHRoaXMubG9naXRzQWxsID0gZmllbGRzPy5sb2dpdHNBbGw7XG4gICAgICAgIHRoaXMudm9jYWJPbmx5ID0gZmllbGRzPy52b2NhYk9ubHk7XG4gICAgICAgIHRoaXMudXNlTW1hcCA9IGZpZWxkcz8udXNlTW1hcDtcbiAgICAgICAgdGhpcy51c2VNbG9jayA9IGZpZWxkcz8udXNlTWxvY2s7XG4gICAgICAgIHRoaXMuZW1iZWRkaW5nT25seSA9IGZpZWxkcz8uZW1iZWRkaW5nT25seTtcbiAgICAgICAgdGhpcy5udW1UaHJlYWQgPSBmaWVsZHM/Lm51bVRocmVhZDtcbiAgICAgICAgdGhpcy5udW1LZWVwID0gZmllbGRzPy5udW1LZWVwO1xuICAgICAgICB0aGlzLnNlZWQgPSBmaWVsZHM/LnNlZWQ7XG4gICAgICAgIHRoaXMubnVtUHJlZGljdCA9IGZpZWxkcz8ubnVtUHJlZGljdDtcbiAgICAgICAgdGhpcy50b3BLID0gZmllbGRzPy50b3BLO1xuICAgICAgICB0aGlzLnRvcFAgPSBmaWVsZHM/LnRvcFA7XG4gICAgICAgIHRoaXMudGZzWiA9IGZpZWxkcz8udGZzWjtcbiAgICAgICAgdGhpcy50eXBpY2FsUCA9IGZpZWxkcz8udHlwaWNhbFA7XG4gICAgICAgIHRoaXMucmVwZWF0TGFzdE4gPSBmaWVsZHM/LnJlcGVhdExhc3ROO1xuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzPy50ZW1wZXJhdHVyZTtcbiAgICAgICAgdGhpcy5yZXBlYXRQZW5hbHR5ID0gZmllbGRzPy5yZXBlYXRQZW5hbHR5O1xuICAgICAgICB0aGlzLnByZXNlbmNlUGVuYWx0eSA9IGZpZWxkcz8ucHJlc2VuY2VQZW5hbHR5O1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeVBlbmFsdHkgPSBmaWVsZHM/LmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMubWlyb3N0YXQgPSBmaWVsZHM/Lm1pcm9zdGF0O1xuICAgICAgICB0aGlzLm1pcm9zdGF0VGF1ID0gZmllbGRzPy5taXJvc3RhdFRhdTtcbiAgICAgICAgdGhpcy5taXJvc3RhdEV0YSA9IGZpZWxkcz8ubWlyb3N0YXRFdGE7XG4gICAgICAgIHRoaXMucGVuYWxpemVOZXdsaW5lID0gZmllbGRzPy5wZW5hbGl6ZU5ld2xpbmU7XG4gICAgICAgIHRoaXMuc3RyZWFtaW5nID0gZmllbGRzPy5zdHJlYW1pbmc7XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZmllbGRzPy5mb3JtYXQ7XG4gICAgICAgIHRoaXMua2VlcEFsaXZlID0gZmllbGRzPy5rZWVwQWxpdmU7XG4gICAgICAgIHRoaXMuY2hlY2tPclB1bGxNb2RlbCA9IGZpZWxkcz8uY2hlY2tPclB1bGxNb2RlbCA/PyB0aGlzLmNoZWNrT3JQdWxsTW9kZWw7XG4gICAgfVxuICAgIC8vIFJlcGxhY2VcbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib2xsYW1hXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvd25sb2FkIGEgbW9kZWwgb250byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgdG8gZG93bmxvYWQuXG4gICAgICogQHBhcmFtIHtQdWxsTW9kZWxPcHRpb25zIHwgdW5kZWZpbmVkfSBvcHRpb25zIE9wdGlvbnMgZm9yIHB1bGxpbmcgdGhlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIHB1bGwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBzdHJlYW0sIGluc2VjdXJlLCBsb2dQcm9ncmVzcyB9ID0ge1xuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBhd2FpdCB0aGlzLmNsaWVudC5wdWxsKHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBpbnNlY3VyZSxcbiAgICAgICAgICAgICAgICBzdHJlYW0sXG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIGlmIChsb2dQcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaHVuayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wdWxsKHsgbW9kZWwsIGluc2VjdXJlIH0pO1xuICAgICAgICAgICAgaWYgKGxvZ1Byb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmRUb29scyh0b29scywga3dhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmQoe1xuICAgICAgICAgICAgdG9vbHM6IHRvb2xzLm1hcCgodG9vbCkgPT4gY29udmVydFRvT3BlbkFJVG9vbCh0b29sKSksXG4gICAgICAgICAgICAuLi5rd2FyZ3MsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRMc1BhcmFtcyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxzX3Byb3ZpZGVyOiBcIm9sbGFtYVwiLFxuICAgICAgICAgICAgbHNfbW9kZWxfbmFtZTogdGhpcy5tb2RlbCxcbiAgICAgICAgICAgIGxzX21vZGVsX3R5cGU6IFwiY2hhdFwiLFxuICAgICAgICAgICAgbHNfdGVtcGVyYXR1cmU6IHBhcmFtcy5vcHRpb25zPy50ZW1wZXJhdHVyZSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBsc19tYXhfdG9rZW5zOiBwYXJhbXMub3B0aW9ucz8ubnVtX3ByZWRpY3QgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgbHNfc3RvcDogb3B0aW9ucy5zdG9wLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnM/LnRvb2xfY2hvaWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb29sIGNob2ljZSBpcyBub3Qgc3VwcG9ydGVkIGZvciBDaGF0T2xsYW1hLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuZm9ybWF0LFxuICAgICAgICAgICAga2VlcF9hbGl2ZTogdGhpcy5rZWVwQWxpdmUsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgbnVtYTogdGhpcy5udW1hLFxuICAgICAgICAgICAgICAgIG51bV9jdHg6IHRoaXMubnVtQ3R4LFxuICAgICAgICAgICAgICAgIG51bV9iYXRjaDogdGhpcy5udW1CYXRjaCxcbiAgICAgICAgICAgICAgICBudW1fZ3B1OiB0aGlzLm51bUdwdSxcbiAgICAgICAgICAgICAgICBtYWluX2dwdTogdGhpcy5tYWluR3B1LFxuICAgICAgICAgICAgICAgIGxvd192cmFtOiB0aGlzLmxvd1ZyYW0sXG4gICAgICAgICAgICAgICAgZjE2X2t2OiB0aGlzLmYxNkt2LFxuICAgICAgICAgICAgICAgIGxvZ2l0c19hbGw6IHRoaXMubG9naXRzQWxsLFxuICAgICAgICAgICAgICAgIHZvY2FiX29ubHk6IHRoaXMudm9jYWJPbmx5LFxuICAgICAgICAgICAgICAgIHVzZV9tbWFwOiB0aGlzLnVzZU1tYXAsXG4gICAgICAgICAgICAgICAgdXNlX21sb2NrOiB0aGlzLnVzZU1sb2NrLFxuICAgICAgICAgICAgICAgIGVtYmVkZGluZ19vbmx5OiB0aGlzLmVtYmVkZGluZ09ubHksXG4gICAgICAgICAgICAgICAgbnVtX3RocmVhZDogdGhpcy5udW1UaHJlYWQsXG4gICAgICAgICAgICAgICAgbnVtX2tlZXA6IHRoaXMubnVtS2VlcCxcbiAgICAgICAgICAgICAgICBzZWVkOiB0aGlzLnNlZWQsXG4gICAgICAgICAgICAgICAgbnVtX3ByZWRpY3Q6IHRoaXMubnVtUHJlZGljdCxcbiAgICAgICAgICAgICAgICB0b3BfazogdGhpcy50b3BLLFxuICAgICAgICAgICAgICAgIHRvcF9wOiB0aGlzLnRvcFAsXG4gICAgICAgICAgICAgICAgdGZzX3o6IHRoaXMudGZzWixcbiAgICAgICAgICAgICAgICB0eXBpY2FsX3A6IHRoaXMudHlwaWNhbFAsXG4gICAgICAgICAgICAgICAgcmVwZWF0X2xhc3RfbjogdGhpcy5yZXBlYXRMYXN0TixcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZTogdGhpcy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgICAgICByZXBlYXRfcGVuYWx0eTogdGhpcy5yZXBlYXRQZW5hbHR5LFxuICAgICAgICAgICAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHRoaXMucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgbWlyb3N0YXQ6IHRoaXMubWlyb3N0YXQsXG4gICAgICAgICAgICAgICAgbWlyb3N0YXRfdGF1OiB0aGlzLm1pcm9zdGF0VGF1LFxuICAgICAgICAgICAgICAgIG1pcm9zdGF0X2V0YTogdGhpcy5taXJvc3RhdEV0YSxcbiAgICAgICAgICAgICAgICBwZW5hbGl6ZV9uZXdsaW5lOiB0aGlzLnBlbmFsaXplTmV3bGluZSxcbiAgICAgICAgICAgICAgICBzdG9wOiBvcHRpb25zPy5zdG9wLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2xzOiBvcHRpb25zPy50b29scz8ubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnRvb2xzLm1hcCgodG9vbCkgPT4gY29udmVydFRvT3BlbkFJVG9vbCh0b29sKSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBtb2RlbCBleGlzdHMgb24gdGhlIGxvY2FsIG1hY2hpbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZWwgVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBXaGV0aGVyIG9yIG5vdCB0aGUgbW9kZWwgZXhpc3RzLlxuICAgICAqL1xuICAgIGFzeW5jIGNoZWNrTW9kZWxFeGlzdHNPbk1hY2hpbmUobW9kZWwpIHtcbiAgICAgICAgY29uc3QgeyBtb2RlbHMgfSA9IGF3YWl0IHRoaXMuY2xpZW50Lmxpc3QoKTtcbiAgICAgICAgcmV0dXJuICEhbW9kZWxzLmZpbmQoKG0pID0+IG0ubmFtZSA9PT0gbW9kZWwgfHwgbS5uYW1lID09PSBgJHttb2RlbH06bGF0ZXN0YCk7XG4gICAgfVxuICAgIGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBpZiAodGhpcy5jaGVja09yUHVsbE1vZGVsKSB7XG4gICAgICAgICAgICBpZiAoIShhd2FpdCB0aGlzLmNoZWNrTW9kZWxFeGlzdHNPbk1hY2hpbmUodGhpcy5tb2RlbCkpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wdWxsKHRoaXMubW9kZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZpbmFsQ2h1bms7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpKSB7XG4gICAgICAgICAgICBpZiAoIWZpbmFsQ2h1bmspIHtcbiAgICAgICAgICAgICAgICBmaW5hbENodW5rID0gY2h1bmsubWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbmFsQ2h1bmsgPSBjb25jYXQoZmluYWxDaHVuaywgY2h1bmsubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29udmVydCBmcm9tIEFJTWVzc2FnZUNodW5rIHRvIEFJTWVzc2FnZSBzaW5jZSBgZ2VuZXJhdGVgIGV4cGVjdHMgQUlNZXNzYWdlLlxuICAgICAgICBjb25zdCBub25DaHVua01lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKHtcbiAgICAgICAgICAgIGlkOiBmaW5hbENodW5rPy5pZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGZpbmFsQ2h1bms/LmNvbnRlbnQgPz8gXCJcIixcbiAgICAgICAgICAgIHRvb2xfY2FsbHM6IGZpbmFsQ2h1bms/LnRvb2xfY2FsbHMsXG4gICAgICAgICAgICByZXNwb25zZV9tZXRhZGF0YTogZmluYWxDaHVuaz8ucmVzcG9uc2VfbWV0YWRhdGEsXG4gICAgICAgICAgICB1c2FnZV9tZXRhZGF0YTogZmluYWxDaHVuaz8udXNhZ2VfbWV0YWRhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHR5cGVvZiBub25DaHVua01lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBub25DaHVua01lc3NhZ2UuY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBub25DaHVua01lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudCB0byBzdXBwb3J0IHN0cmVhbWluZy5cbiAgICAgKiBTaG91bGQgeWllbGQgY2h1bmtzIGl0ZXJhdGl2ZWx5LlxuICAgICAqL1xuICAgIGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tPclB1bGxNb2RlbCkge1xuICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5jaGVja01vZGVsRXhpc3RzT25NYWNoaW5lKHRoaXMubW9kZWwpKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucHVsbCh0aGlzLm1vZGVsLCB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGNhc3QgYWZ0ZXIgU0RLIGFkZHMgc3VwcG9ydCBmb3IgdG9vbCBjYWxsc1xuICAgICAgICBjb25zdCBvbGxhbWFNZXNzYWdlcyA9IGNvbnZlcnRUb09sbGFtYU1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgICAgY29uc3QgdXNhZ2VNZXRhZGF0YSA9IHtcbiAgICAgICAgICAgIGlucHV0X3Rva2VuczogMCxcbiAgICAgICAgICAgIG91dHB1dF90b2tlbnM6IDAsXG4gICAgICAgICAgICB0b3RhbF90b2tlbnM6IDAsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChwYXJhbXMudG9vbHMgJiYgcGFyYW1zLnRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xSZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0KHtcbiAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IG9sbGFtYU1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHN0cmVhbTogZmFsc2UsIC8vIE9sbGFtYSBjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBzdHJlYW1pbmcgd2l0aCB0b29sc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IHJlc3BvbnNlTWVzc2FnZSwgLi4ucmVzdCB9ID0gdG9vbFJlc3VsdDtcbiAgICAgICAgICAgIHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5zICs9IHJlc3QucHJvbXB0X2V2YWxfY291bnQgPz8gMDtcbiAgICAgICAgICAgIHVzYWdlTWV0YWRhdGEub3V0cHV0X3Rva2VucyArPSByZXN0LmV2YWxfY291bnQgPz8gMDtcbiAgICAgICAgICAgIHVzYWdlTWV0YWRhdGEudG90YWxfdG9rZW5zID1cbiAgICAgICAgICAgICAgICB1c2FnZU1ldGFkYXRhLmlucHV0X3Rva2VucyArIHVzYWdlTWV0YWRhdGEub3V0cHV0X3Rva2VucztcbiAgICAgICAgICAgIHlpZWxkIG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZU1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjb252ZXJ0T2xsYW1hTWVzc2FnZXNUb0xhbmdDaGFpbihyZXNwb25zZU1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VNZXRhZGF0YTogcmVzdCxcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHJlc3BvbnNlTWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0KHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBvbGxhbWFNZXNzYWdlcyxcbiAgICAgICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBsYXN0TWV0YWRhdGE7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBtZXNzYWdlOiByZXNwb25zZU1lc3NhZ2UsIC4uLnJlc3QgfSA9IGNodW5rO1xuICAgICAgICAgICAgdXNhZ2VNZXRhZGF0YS5pbnB1dF90b2tlbnMgKz0gcmVzdC5wcm9tcHRfZXZhbF9jb3VudCA/PyAwO1xuICAgICAgICAgICAgdXNhZ2VNZXRhZGF0YS5vdXRwdXRfdG9rZW5zICs9IHJlc3QuZXZhbF9jb3VudCA/PyAwO1xuICAgICAgICAgICAgdXNhZ2VNZXRhZGF0YS50b3RhbF90b2tlbnMgPVxuICAgICAgICAgICAgICAgIHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5zICsgdXNhZ2VNZXRhZGF0YS5vdXRwdXRfdG9rZW5zO1xuICAgICAgICAgICAgbGFzdE1ldGFkYXRhID0gcmVzdDtcbiAgICAgICAgICAgIHlpZWxkIG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZU1lc3NhZ2UuY29udGVudCA/PyBcIlwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNvbnZlcnRPbGxhbWFNZXNzYWdlc1RvTGFuZ0NoYWluKHJlc3BvbnNlTWVzc2FnZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHJlc3BvbnNlTWVzc2FnZS5jb250ZW50ID8/IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFlpZWxkIHRoZSBgcmVzcG9uc2VfbWV0YWRhdGFgIGFzIHRoZSBmaW5hbCBjaHVuay5cbiAgICAgICAgeWllbGQgbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICAgICAgICByZXNwb25zZV9tZXRhZGF0YTogbGFzdE1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHVzYWdlX21ldGFkYXRhOiB1c2FnZU1ldGFkYXRhLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/chat_models.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/embeddings.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/embeddings.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OllamaEmbeddings: () => (/* binding */ OllamaEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_embeddings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/embeddings */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/embeddings.js\");\n/* harmony import */ var ollama_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ollama/browser */ \"(rsc)/./node_modules/.pnpm/ollama@0.5.12/node_modules/ollama/dist/browser.mjs\");\n\n\nclass OllamaEmbeddings extends _langchain_core_embeddings__WEBPACK_IMPORTED_MODULE_0__.Embeddings {\n    constructor(fields) {\n        super({ maxConcurrency: 1, ...fields });\n        Object.defineProperty(this, \"model\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"mxbai-embed-large\"\n        });\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"http://localhost:11434\"\n        });\n        Object.defineProperty(this, \"keepAlive\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"requestOptions\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"truncate\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        this.client = new ollama_browser__WEBPACK_IMPORTED_MODULE_1__.Ollama({\n            host: fields?.baseUrl,\n            headers: fields?.headers ? new Headers(fields.headers) : undefined,\n        });\n        this.baseUrl = fields?.baseUrl ?? this.baseUrl;\n        this.model = fields?.model ?? this.model;\n        this.keepAlive = fields?.keepAlive;\n        this.truncate = fields?.truncate ?? this.truncate;\n        this.requestOptions = fields?.requestOptions\n            ? this._convertOptions(fields?.requestOptions)\n            : undefined;\n    }\n    /** convert camelCased Ollama request options like \"useMMap\" to\n     * the snake_cased equivalent which the ollama API actually uses.\n     * Used only for consistency with the llms/Ollama and chatModels/Ollama classes\n     */\n    _convertOptions(requestOptions) {\n        const snakeCasedOptions = {};\n        const mapping = {\n            embeddingOnly: \"embedding_only\",\n            frequencyPenalty: \"frequency_penalty\",\n            keepAlive: \"keep_alive\",\n            logitsAll: \"logits_all\",\n            lowVram: \"low_vram\",\n            mainGpu: \"main_gpu\",\n            mirostat: \"mirostat\",\n            mirostatEta: \"mirostat_eta\",\n            mirostatTau: \"mirostat_tau\",\n            numBatch: \"num_batch\",\n            numCtx: \"num_ctx\",\n            numGpu: \"num_gpu\",\n            numKeep: \"num_keep\",\n            numPredict: \"num_predict\",\n            numThread: \"num_thread\",\n            penalizeNewline: \"penalize_newline\",\n            presencePenalty: \"presence_penalty\",\n            repeatLastN: \"repeat_last_n\",\n            repeatPenalty: \"repeat_penalty\",\n            temperature: \"temperature\",\n            stop: \"stop\",\n            tfsZ: \"tfs_z\",\n            topK: \"top_k\",\n            topP: \"top_p\",\n            typicalP: \"typical_p\",\n            useMlock: \"use_mlock\",\n            useMmap: \"use_mmap\",\n            vocabOnly: \"vocab_only\",\n            f16Kv: \"f16_kv\",\n            numa: \"numa\",\n            seed: \"seed\",\n        };\n        for (const [key, value] of Object.entries(requestOptions)) {\n            const snakeCasedOption = mapping[key];\n            if (snakeCasedOption) {\n                snakeCasedOptions[snakeCasedOption] = value;\n            }\n            else {\n                // Just pass unknown options through\n                snakeCasedOptions[key] = value;\n            }\n        }\n        return snakeCasedOptions;\n    }\n    async embedDocuments(texts) {\n        return this.embeddingWithRetry(texts);\n    }\n    async embedQuery(text) {\n        return (await this.embeddingWithRetry([text]))[0];\n    }\n    async embeddingWithRetry(texts) {\n        const res = await this.caller.call(() => this.client.embed({\n            model: this.model,\n            input: texts,\n            keep_alive: this.keepAlive,\n            options: this.requestOptions,\n            truncate: this.truncate,\n        }));\n        return res.embeddings;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvbGxhbWFAMC4xLjRfQGxhbmdjaGFpbitjb3JlQDAuMy4zMV9vcGVuYWlANC43OS4xX3dzQDguMTguMF96b2RAMy4yNC4xX18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb2xsYW1hL2Rpc3QvZW1iZWRkaW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDaEI7QUFDakMsK0JBQStCLGtFQUFVO0FBQ2hEO0FBQ0EsZ0JBQWdCLDhCQUE4QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwwQkFBMEIsa0RBQU07QUFDaEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZ2NoYWluLW5leHRqcy10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29sbGFtYUAwLjEuNF9AbGFuZ2NoYWluK2NvcmVAMC4zLjMxX29wZW5haUA0Ljc5LjFfd3NAOC4xOC4wX3pvZEAzLjI0LjFfXy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vbGxhbWEvZGlzdC9lbWJlZGRpbmdzLmpzPzM4NzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1iZWRkaW5ncyB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvZW1iZWRkaW5nc1wiO1xuaW1wb3J0IHsgT2xsYW1hIH0gZnJvbSBcIm9sbGFtYS9icm93c2VyXCI7XG5leHBvcnQgY2xhc3MgT2xsYW1hRW1iZWRkaW5ncyBleHRlbmRzIEVtYmVkZGluZ3Mge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcih7IG1heENvbmN1cnJlbmN5OiAxLCAuLi5maWVsZHMgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIm14YmFpLWVtYmVkLWxhcmdlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhc2VVcmxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiaHR0cDovL2xvY2FsaG9zdDoxMTQzNFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZWVwQWxpdmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVxdWVzdE9wdGlvbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRydW5jYXRlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT2xsYW1hKHtcbiAgICAgICAgICAgIGhvc3Q6IGZpZWxkcz8uYmFzZVVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGZpZWxkcz8uaGVhZGVycyA/IG5ldyBIZWFkZXJzKGZpZWxkcy5oZWFkZXJzKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGZpZWxkcz8uYmFzZVVybCA/PyB0aGlzLmJhc2VVcmw7XG4gICAgICAgIHRoaXMubW9kZWwgPSBmaWVsZHM/Lm1vZGVsID8/IHRoaXMubW9kZWw7XG4gICAgICAgIHRoaXMua2VlcEFsaXZlID0gZmllbGRzPy5rZWVwQWxpdmU7XG4gICAgICAgIHRoaXMudHJ1bmNhdGUgPSBmaWVsZHM/LnRydW5jYXRlID8/IHRoaXMudHJ1bmNhdGU7XG4gICAgICAgIHRoaXMucmVxdWVzdE9wdGlvbnMgPSBmaWVsZHM/LnJlcXVlc3RPcHRpb25zXG4gICAgICAgICAgICA/IHRoaXMuX2NvbnZlcnRPcHRpb25zKGZpZWxkcz8ucmVxdWVzdE9wdGlvbnMpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqIGNvbnZlcnQgY2FtZWxDYXNlZCBPbGxhbWEgcmVxdWVzdCBvcHRpb25zIGxpa2UgXCJ1c2VNTWFwXCIgdG9cbiAgICAgKiB0aGUgc25ha2VfY2FzZWQgZXF1aXZhbGVudCB3aGljaCB0aGUgb2xsYW1hIEFQSSBhY3R1YWxseSB1c2VzLlxuICAgICAqIFVzZWQgb25seSBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgbGxtcy9PbGxhbWEgYW5kIGNoYXRNb2RlbHMvT2xsYW1hIGNsYXNzZXNcbiAgICAgKi9cbiAgICBfY29udmVydE9wdGlvbnMocmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc25ha2VDYXNlZE9wdGlvbnMgPSB7fTtcbiAgICAgICAgY29uc3QgbWFwcGluZyA9IHtcbiAgICAgICAgICAgIGVtYmVkZGluZ09ubHk6IFwiZW1iZWRkaW5nX29ubHlcIixcbiAgICAgICAgICAgIGZyZXF1ZW5jeVBlbmFsdHk6IFwiZnJlcXVlbmN5X3BlbmFsdHlcIixcbiAgICAgICAgICAgIGtlZXBBbGl2ZTogXCJrZWVwX2FsaXZlXCIsXG4gICAgICAgICAgICBsb2dpdHNBbGw6IFwibG9naXRzX2FsbFwiLFxuICAgICAgICAgICAgbG93VnJhbTogXCJsb3dfdnJhbVwiLFxuICAgICAgICAgICAgbWFpbkdwdTogXCJtYWluX2dwdVwiLFxuICAgICAgICAgICAgbWlyb3N0YXQ6IFwibWlyb3N0YXRcIixcbiAgICAgICAgICAgIG1pcm9zdGF0RXRhOiBcIm1pcm9zdGF0X2V0YVwiLFxuICAgICAgICAgICAgbWlyb3N0YXRUYXU6IFwibWlyb3N0YXRfdGF1XCIsXG4gICAgICAgICAgICBudW1CYXRjaDogXCJudW1fYmF0Y2hcIixcbiAgICAgICAgICAgIG51bUN0eDogXCJudW1fY3R4XCIsXG4gICAgICAgICAgICBudW1HcHU6IFwibnVtX2dwdVwiLFxuICAgICAgICAgICAgbnVtS2VlcDogXCJudW1fa2VlcFwiLFxuICAgICAgICAgICAgbnVtUHJlZGljdDogXCJudW1fcHJlZGljdFwiLFxuICAgICAgICAgICAgbnVtVGhyZWFkOiBcIm51bV90aHJlYWRcIixcbiAgICAgICAgICAgIHBlbmFsaXplTmV3bGluZTogXCJwZW5hbGl6ZV9uZXdsaW5lXCIsXG4gICAgICAgICAgICBwcmVzZW5jZVBlbmFsdHk6IFwicHJlc2VuY2VfcGVuYWx0eVwiLFxuICAgICAgICAgICAgcmVwZWF0TGFzdE46IFwicmVwZWF0X2xhc3RfblwiLFxuICAgICAgICAgICAgcmVwZWF0UGVuYWx0eTogXCJyZXBlYXRfcGVuYWx0eVwiLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IFwidGVtcGVyYXR1cmVcIixcbiAgICAgICAgICAgIHN0b3A6IFwic3RvcFwiLFxuICAgICAgICAgICAgdGZzWjogXCJ0ZnNfelwiLFxuICAgICAgICAgICAgdG9wSzogXCJ0b3Bfa1wiLFxuICAgICAgICAgICAgdG9wUDogXCJ0b3BfcFwiLFxuICAgICAgICAgICAgdHlwaWNhbFA6IFwidHlwaWNhbF9wXCIsXG4gICAgICAgICAgICB1c2VNbG9jazogXCJ1c2VfbWxvY2tcIixcbiAgICAgICAgICAgIHVzZU1tYXA6IFwidXNlX21tYXBcIixcbiAgICAgICAgICAgIHZvY2FiT25seTogXCJ2b2NhYl9vbmx5XCIsXG4gICAgICAgICAgICBmMTZLdjogXCJmMTZfa3ZcIixcbiAgICAgICAgICAgIG51bWE6IFwibnVtYVwiLFxuICAgICAgICAgICAgc2VlZDogXCJzZWVkXCIsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJlcXVlc3RPcHRpb25zKSkge1xuICAgICAgICAgICAgY29uc3Qgc25ha2VDYXNlZE9wdGlvbiA9IG1hcHBpbmdba2V5XTtcbiAgICAgICAgICAgIGlmIChzbmFrZUNhc2VkT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgc25ha2VDYXNlZE9wdGlvbnNbc25ha2VDYXNlZE9wdGlvbl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEp1c3QgcGFzcyB1bmtub3duIG9wdGlvbnMgdGhyb3VnaFxuICAgICAgICAgICAgICAgIHNuYWtlQ2FzZWRPcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc25ha2VDYXNlZE9wdGlvbnM7XG4gICAgfVxuICAgIGFzeW5jIGVtYmVkRG9jdW1lbnRzKHRleHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtYmVkZGluZ1dpdGhSZXRyeSh0ZXh0cyk7XG4gICAgfVxuICAgIGFzeW5jIGVtYmVkUXVlcnkodGV4dCkge1xuICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KFt0ZXh0XSkpWzBdO1xuICAgIH1cbiAgICBhc3luYyBlbWJlZGRpbmdXaXRoUmV0cnkodGV4dHMpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbCgoKSA9PiB0aGlzLmNsaWVudC5lbWJlZCh7XG4gICAgICAgICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgICAgICAgIGlucHV0OiB0ZXh0cyxcbiAgICAgICAgICAgIGtlZXBfYWxpdmU6IHRoaXMua2VlcEFsaXZlLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5yZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIHRydW5jYXRlOiB0aGlzLnRydW5jYXRlLFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiByZXMuZW1iZWRkaW5ncztcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/embeddings.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/index.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/index.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOllama: () => (/* reexport safe */ _chat_models_js__WEBPACK_IMPORTED_MODULE_0__.ChatOllama),\n/* harmony export */   Ollama: () => (/* reexport safe */ _llms_js__WEBPACK_IMPORTED_MODULE_3__.Ollama),\n/* harmony export */   OllamaEmbeddings: () => (/* reexport safe */ _embeddings_js__WEBPACK_IMPORTED_MODULE_1__.OllamaEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _chat_models_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat_models.js */ \"(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/chat_models.js\");\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./embeddings.js */ \"(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/embeddings.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/types.js\");\n/* harmony import */ var _llms_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./llms.js */ \"(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/llms.js\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvbGxhbWFAMC4xLjRfQGxhbmdjaGFpbitjb3JlQDAuMy4zMV9vcGVuYWlANC43OS4xX3dzQDguMTguMF96b2RAMy4yNC4xX18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb2xsYW1hL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpQztBQUNEO0FBQ0w7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2xhbmdjaGFpbi1uZXh0anMtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvbGxhbWFAMC4xLjRfQGxhbmdjaGFpbitjb3JlQDAuMy4zMV9vcGVuYWlANC43OS4xX3dzQDguMTguMF96b2RAMy4yNC4xX18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb2xsYW1hL2Rpc3QvaW5kZXguanM/NDQ1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9jaGF0X21vZGVscy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZW1iZWRkaW5ncy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xsbXMuanNcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/llms.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/llms.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ollama: () => (/* binding */ Ollama)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/outputs.js\");\n/* harmony import */ var _langchain_core_language_models_llms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/language_models/llms */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/language_models/llms.js\");\n/* harmony import */ var ollama_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ollama/browser */ \"(rsc)/./node_modules/.pnpm/ollama@0.5.12/node_modules/ollama/dist/browser.mjs\");\n\n\n\n/**\n * Class that represents the Ollama language model. It extends the base\n * LLM class and implements the OllamaInput interface.\n * @example\n * ```typescript\n * const ollama = new Ollama({\n *   baseUrl: \"http://api.example.com\",\n *   model: \"llama3\",\n * });\n *\n * // Streaming translation from English to German\n * const stream = await ollama.stream(\n *   `Translate \"I love programming\" into German.`\n * );\n *\n * const chunks = [];\n * for await (const chunk of stream) {\n *   chunks.push(chunk);\n * }\n *\n * console.log(chunks.join(\"\"));\n * ```\n */\nclass Ollama extends _langchain_core_language_models_llms__WEBPACK_IMPORTED_MODULE_1__.LLM {\n    static lc_name() {\n        return \"Ollama\";\n    }\n    constructor(fields) {\n        super(fields ?? {});\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"model\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"llama3\"\n        });\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"http://localhost:11434\"\n        });\n        Object.defineProperty(this, \"keepAlive\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"embeddingOnly\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"f16KV\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"frequencyPenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"logitsAll\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"lowVram\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mainGpu\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mirostat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mirostatEta\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"mirostatTau\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numBatch\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numCtx\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numGpu\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numKeep\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numPredict\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"numThread\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"penalizeNewline\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"presencePenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"repeatLastN\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"repeatPenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"temperature\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"stop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"tfsZ\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"topK\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"topP\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"typicalP\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"useMLock\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"useMMap\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"vocabOnly\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"format\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.model = fields?.model ?? this.model;\n        this.baseUrl = fields?.baseUrl?.endsWith(\"/\")\n            ? fields?.baseUrl.slice(0, -1)\n            : fields?.baseUrl ?? this.baseUrl;\n        this.client = new ollama_browser__WEBPACK_IMPORTED_MODULE_2__.Ollama({\n            host: this.baseUrl,\n            headers: fields?.headers,\n        });\n        this.keepAlive = fields?.keepAlive;\n        this.embeddingOnly = fields?.embeddingOnly;\n        this.f16KV = fields?.f16Kv;\n        this.frequencyPenalty = fields?.frequencyPenalty;\n        this.logitsAll = fields?.logitsAll;\n        this.lowVram = fields?.lowVram;\n        this.mainGpu = fields?.mainGpu;\n        this.mirostat = fields?.mirostat;\n        this.mirostatEta = fields?.mirostatEta;\n        this.mirostatTau = fields?.mirostatTau;\n        this.numBatch = fields?.numBatch;\n        this.numCtx = fields?.numCtx;\n        this.numGpu = fields?.numGpu;\n        this.numKeep = fields?.numKeep;\n        this.numPredict = fields?.numPredict;\n        this.numThread = fields?.numThread;\n        this.penalizeNewline = fields?.penalizeNewline;\n        this.presencePenalty = fields?.presencePenalty;\n        this.repeatLastN = fields?.repeatLastN;\n        this.repeatPenalty = fields?.repeatPenalty;\n        this.temperature = fields?.temperature;\n        this.stop = fields?.stop;\n        this.tfsZ = fields?.tfsZ;\n        this.topK = fields?.topK;\n        this.topP = fields?.topP;\n        this.typicalP = fields?.typicalP;\n        this.useMLock = fields?.useMlock;\n        this.useMMap = fields?.useMmap;\n        this.vocabOnly = fields?.vocabOnly;\n        this.format = fields?.format;\n    }\n    _llmType() {\n        return \"ollama\";\n    }\n    invocationParams(options) {\n        return {\n            model: this.model,\n            format: this.format,\n            keep_alive: this.keepAlive,\n            images: options?.images,\n            options: {\n                embedding_only: this.embeddingOnly,\n                f16_kv: this.f16KV,\n                frequency_penalty: this.frequencyPenalty,\n                logits_all: this.logitsAll,\n                low_vram: this.lowVram,\n                main_gpu: this.mainGpu,\n                mirostat: this.mirostat,\n                mirostat_eta: this.mirostatEta,\n                mirostat_tau: this.mirostatTau,\n                num_batch: this.numBatch,\n                num_ctx: this.numCtx,\n                num_gpu: this.numGpu,\n                num_keep: this.numKeep,\n                num_predict: this.numPredict,\n                num_thread: this.numThread,\n                penalize_newline: this.penalizeNewline,\n                presence_penalty: this.presencePenalty,\n                repeat_last_n: this.repeatLastN,\n                repeat_penalty: this.repeatPenalty,\n                temperature: this.temperature,\n                stop: options?.stop ?? this.stop,\n                tfs_z: this.tfsZ,\n                top_k: this.topK,\n                top_p: this.topP,\n                typical_p: this.typicalP,\n                use_mlock: this.useMLock,\n                use_mmap: this.useMMap,\n                vocab_only: this.vocabOnly,\n            },\n        };\n    }\n    async *_streamResponseChunks(prompt, options, runManager) {\n        const stream = await this.caller.call(async () => this.client.generate({\n            ...this.invocationParams(options),\n            prompt,\n            stream: true,\n        }));\n        for await (const chunk of stream) {\n            if (options.signal?.aborted) {\n                throw new Error(\"This operation was aborted\");\n            }\n            if (!chunk.done) {\n                yield new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_0__.GenerationChunk({\n                    text: chunk.response,\n                    generationInfo: {\n                        ...chunk,\n                        response: undefined,\n                    },\n                });\n                await runManager?.handleLLMNewToken(chunk.response ?? \"\");\n            }\n            else {\n                yield new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_0__.GenerationChunk({\n                    text: \"\",\n                    generationInfo: {\n                        model: chunk.model,\n                        total_duration: chunk.total_duration,\n                        load_duration: chunk.load_duration,\n                        prompt_eval_count: chunk.prompt_eval_count,\n                        prompt_eval_duration: chunk.prompt_eval_duration,\n                        eval_count: chunk.eval_count,\n                        eval_duration: chunk.eval_duration,\n                    },\n                });\n            }\n        }\n    }\n    /** @ignore */\n    async _call(prompt, options, runManager) {\n        const chunks = [];\n        for await (const chunk of this._streamResponseChunks(prompt, options, runManager)) {\n            chunks.push(chunk.text);\n        }\n        return chunks.join(\"\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvbGxhbWFAMC4xLjRfQGxhbmdjaGFpbitjb3JlQDAuMy4zMV9vcGVuYWlANC43OS4xX3dzQDguMTguMF96b2RAMy4yNC4xX18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb2xsYW1hL2Rpc3QvbGxtcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBEO0FBQ0M7QUFDSDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIscUVBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrREFBWTtBQUN0QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9FQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sYW5nY2hhaW4tbmV4dGpzLXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb2xsYW1hQDAuMS40X0BsYW5nY2hhaW4rY29yZUAwLjMuMzFfb3BlbmFpQDQuNzkuMV93c0A4LjE4LjBfem9kQDMuMjQuMV9fL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29sbGFtYS9kaXN0L2xsbXMuanM/NTc5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dHNcIjtcbmltcG9ydCB7IExMTSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbGFuZ3VhZ2VfbW9kZWxzL2xsbXNcIjtcbmltcG9ydCB7IE9sbGFtYSBhcyBPbGxhbWFDbGllbnQgfSBmcm9tIFwib2xsYW1hL2Jyb3dzZXJcIjtcbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZSBPbGxhbWEgbGFuZ3VhZ2UgbW9kZWwuIEl0IGV4dGVuZHMgdGhlIGJhc2VcbiAqIExMTSBjbGFzcyBhbmQgaW1wbGVtZW50cyB0aGUgT2xsYW1hSW5wdXQgaW50ZXJmYWNlLlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IG9sbGFtYSA9IG5ldyBPbGxhbWEoe1xuICogICBiYXNlVXJsOiBcImh0dHA6Ly9hcGkuZXhhbXBsZS5jb21cIixcbiAqICAgbW9kZWw6IFwibGxhbWEzXCIsXG4gKiB9KTtcbiAqXG4gKiAvLyBTdHJlYW1pbmcgdHJhbnNsYXRpb24gZnJvbSBFbmdsaXNoIHRvIEdlcm1hblxuICogY29uc3Qgc3RyZWFtID0gYXdhaXQgb2xsYW1hLnN0cmVhbShcbiAqICAgYFRyYW5zbGF0ZSBcIkkgbG92ZSBwcm9ncmFtbWluZ1wiIGludG8gR2VybWFuLmBcbiAqICk7XG4gKlxuICogY29uc3QgY2h1bmtzID0gW107XG4gKiBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICogICBjaHVua3MucHVzaChjaHVuayk7XG4gKiB9XG4gKlxuICogY29uc29sZS5sb2coY2h1bmtzLmpvaW4oXCJcIikpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBPbGxhbWEgZXh0ZW5kcyBMTE0ge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJPbGxhbWFcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibW9kZWxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwibGxhbWEzXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhc2VVcmxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiaHR0cDovL2xvY2FsaG9zdDoxMTQzNFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZWVwQWxpdmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZW1iZWRkaW5nT25seVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmMTZLVlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmcmVxdWVuY3lQZW5hbHR5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2l0c0FsbFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb3dWcmFtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1haW5HcHVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWlyb3N0YXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWlyb3N0YXRFdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWlyb3N0YXRUYXVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibnVtQmF0Y2hcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibnVtQ3R4XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm51bUdwdVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJudW1LZWVwXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm51bVByZWRpY3RcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibnVtVGhyZWFkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBlbmFsaXplTmV3bGluZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmVzZW5jZVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVwZWF0TGFzdE5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVwZWF0UGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wZXJhdHVyZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRmc1pcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wS1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3BQXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5cGljYWxQXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZU1Mb2NrXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZU1NYXBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidm9jYWJPbmx5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZvcm1hdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IGZpZWxkcz8ubW9kZWwgPz8gdGhpcy5tb2RlbDtcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gZmllbGRzPy5iYXNlVXJsPy5lbmRzV2l0aChcIi9cIilcbiAgICAgICAgICAgID8gZmllbGRzPy5iYXNlVXJsLnNsaWNlKDAsIC0xKVxuICAgICAgICAgICAgOiBmaWVsZHM/LmJhc2VVcmwgPz8gdGhpcy5iYXNlVXJsO1xuICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBPbGxhbWFDbGllbnQoe1xuICAgICAgICAgICAgaG9zdDogdGhpcy5iYXNlVXJsLFxuICAgICAgICAgICAgaGVhZGVyczogZmllbGRzPy5oZWFkZXJzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5rZWVwQWxpdmUgPSBmaWVsZHM/LmtlZXBBbGl2ZTtcbiAgICAgICAgdGhpcy5lbWJlZGRpbmdPbmx5ID0gZmllbGRzPy5lbWJlZGRpbmdPbmx5O1xuICAgICAgICB0aGlzLmYxNktWID0gZmllbGRzPy5mMTZLdjtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3lQZW5hbHR5ID0gZmllbGRzPy5mcmVxdWVuY3lQZW5hbHR5O1xuICAgICAgICB0aGlzLmxvZ2l0c0FsbCA9IGZpZWxkcz8ubG9naXRzQWxsO1xuICAgICAgICB0aGlzLmxvd1ZyYW0gPSBmaWVsZHM/Lmxvd1ZyYW07XG4gICAgICAgIHRoaXMubWFpbkdwdSA9IGZpZWxkcz8ubWFpbkdwdTtcbiAgICAgICAgdGhpcy5taXJvc3RhdCA9IGZpZWxkcz8ubWlyb3N0YXQ7XG4gICAgICAgIHRoaXMubWlyb3N0YXRFdGEgPSBmaWVsZHM/Lm1pcm9zdGF0RXRhO1xuICAgICAgICB0aGlzLm1pcm9zdGF0VGF1ID0gZmllbGRzPy5taXJvc3RhdFRhdTtcbiAgICAgICAgdGhpcy5udW1CYXRjaCA9IGZpZWxkcz8ubnVtQmF0Y2g7XG4gICAgICAgIHRoaXMubnVtQ3R4ID0gZmllbGRzPy5udW1DdHg7XG4gICAgICAgIHRoaXMubnVtR3B1ID0gZmllbGRzPy5udW1HcHU7XG4gICAgICAgIHRoaXMubnVtS2VlcCA9IGZpZWxkcz8ubnVtS2VlcDtcbiAgICAgICAgdGhpcy5udW1QcmVkaWN0ID0gZmllbGRzPy5udW1QcmVkaWN0O1xuICAgICAgICB0aGlzLm51bVRocmVhZCA9IGZpZWxkcz8ubnVtVGhyZWFkO1xuICAgICAgICB0aGlzLnBlbmFsaXplTmV3bGluZSA9IGZpZWxkcz8ucGVuYWxpemVOZXdsaW5lO1xuICAgICAgICB0aGlzLnByZXNlbmNlUGVuYWx0eSA9IGZpZWxkcz8ucHJlc2VuY2VQZW5hbHR5O1xuICAgICAgICB0aGlzLnJlcGVhdExhc3ROID0gZmllbGRzPy5yZXBlYXRMYXN0TjtcbiAgICAgICAgdGhpcy5yZXBlYXRQZW5hbHR5ID0gZmllbGRzPy5yZXBlYXRQZW5hbHR5O1xuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzPy50ZW1wZXJhdHVyZTtcbiAgICAgICAgdGhpcy5zdG9wID0gZmllbGRzPy5zdG9wO1xuICAgICAgICB0aGlzLnRmc1ogPSBmaWVsZHM/LnRmc1o7XG4gICAgICAgIHRoaXMudG9wSyA9IGZpZWxkcz8udG9wSztcbiAgICAgICAgdGhpcy50b3BQID0gZmllbGRzPy50b3BQO1xuICAgICAgICB0aGlzLnR5cGljYWxQID0gZmllbGRzPy50eXBpY2FsUDtcbiAgICAgICAgdGhpcy51c2VNTG9jayA9IGZpZWxkcz8udXNlTWxvY2s7XG4gICAgICAgIHRoaXMudXNlTU1hcCA9IGZpZWxkcz8udXNlTW1hcDtcbiAgICAgICAgdGhpcy52b2NhYk9ubHkgPSBmaWVsZHM/LnZvY2FiT25seTtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSBmaWVsZHM/LmZvcm1hdDtcbiAgICB9XG4gICAgX2xsbVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIm9sbGFtYVwiO1xuICAgIH1cbiAgICBpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgICAgICAgZm9ybWF0OiB0aGlzLmZvcm1hdCxcbiAgICAgICAgICAgIGtlZXBfYWxpdmU6IHRoaXMua2VlcEFsaXZlLFxuICAgICAgICAgICAgaW1hZ2VzOiBvcHRpb25zPy5pbWFnZXMsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgZW1iZWRkaW5nX29ubHk6IHRoaXMuZW1iZWRkaW5nT25seSxcbiAgICAgICAgICAgICAgICBmMTZfa3Y6IHRoaXMuZjE2S1YsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5X3BlbmFsdHk6IHRoaXMuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICBsb2dpdHNfYWxsOiB0aGlzLmxvZ2l0c0FsbCxcbiAgICAgICAgICAgICAgICBsb3dfdnJhbTogdGhpcy5sb3dWcmFtLFxuICAgICAgICAgICAgICAgIG1haW5fZ3B1OiB0aGlzLm1haW5HcHUsXG4gICAgICAgICAgICAgICAgbWlyb3N0YXQ6IHRoaXMubWlyb3N0YXQsXG4gICAgICAgICAgICAgICAgbWlyb3N0YXRfZXRhOiB0aGlzLm1pcm9zdGF0RXRhLFxuICAgICAgICAgICAgICAgIG1pcm9zdGF0X3RhdTogdGhpcy5taXJvc3RhdFRhdSxcbiAgICAgICAgICAgICAgICBudW1fYmF0Y2g6IHRoaXMubnVtQmF0Y2gsXG4gICAgICAgICAgICAgICAgbnVtX2N0eDogdGhpcy5udW1DdHgsXG4gICAgICAgICAgICAgICAgbnVtX2dwdTogdGhpcy5udW1HcHUsXG4gICAgICAgICAgICAgICAgbnVtX2tlZXA6IHRoaXMubnVtS2VlcCxcbiAgICAgICAgICAgICAgICBudW1fcHJlZGljdDogdGhpcy5udW1QcmVkaWN0LFxuICAgICAgICAgICAgICAgIG51bV90aHJlYWQ6IHRoaXMubnVtVGhyZWFkLFxuICAgICAgICAgICAgICAgIHBlbmFsaXplX25ld2xpbmU6IHRoaXMucGVuYWxpemVOZXdsaW5lLFxuICAgICAgICAgICAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHRoaXMucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgIHJlcGVhdF9sYXN0X246IHRoaXMucmVwZWF0TGFzdE4sXG4gICAgICAgICAgICAgICAgcmVwZWF0X3BlbmFsdHk6IHRoaXMucmVwZWF0UGVuYWx0eSxcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZTogdGhpcy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgICAgICBzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcCxcbiAgICAgICAgICAgICAgICB0ZnNfejogdGhpcy50ZnNaLFxuICAgICAgICAgICAgICAgIHRvcF9rOiB0aGlzLnRvcEssXG4gICAgICAgICAgICAgICAgdG9wX3A6IHRoaXMudG9wUCxcbiAgICAgICAgICAgICAgICB0eXBpY2FsX3A6IHRoaXMudHlwaWNhbFAsXG4gICAgICAgICAgICAgICAgdXNlX21sb2NrOiB0aGlzLnVzZU1Mb2NrLFxuICAgICAgICAgICAgICAgIHVzZV9tbWFwOiB0aGlzLnVzZU1NYXAsXG4gICAgICAgICAgICAgICAgdm9jYWJfb25seTogdGhpcy52b2NhYk9ubHksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHRoaXMuY2xpZW50LmdlbmVyYXRlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSxcbiAgICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBvcGVyYXRpb24gd2FzIGFib3J0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNodW5rLmRvbmUpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBuZXcgR2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogY2h1bmsucmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25JbmZvOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4oY2h1bmsucmVzcG9uc2UgPz8gXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBuZXcgR2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBjaHVuay5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX2R1cmF0aW9uOiBjaHVuay50b3RhbF9kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRfZHVyYXRpb246IGNodW5rLmxvYWRfZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHRfZXZhbF9jb3VudDogY2h1bmsucHJvbXB0X2V2YWxfY291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHRfZXZhbF9kdXJhdGlvbjogY2h1bmsucHJvbXB0X2V2YWxfZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsX2NvdW50OiBjaHVuay5ldmFsX2NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbF9kdXJhdGlvbjogY2h1bmsuZXZhbF9kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhwcm9tcHQsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpKSB7XG4gICAgICAgICAgICBjaHVua3MucHVzaChjaHVuay50ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2h1bmtzLmpvaW4oXCJcIik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/llms.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/types.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/types.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvbGxhbWFAMC4xLjRfQGxhbmdjaGFpbitjb3JlQDAuMy4zMV9vcGVuYWlANC43OS4xX3dzQDguMTguMF96b2RAMy4yNC4xX18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb2xsYW1hL2Rpc3QvdHlwZXMuanMiLCJtYXBwaW5ncyI6IjtBQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZ2NoYWluLW5leHRqcy10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29sbGFtYUAwLjEuNF9AbGFuZ2NoYWluK2NvcmVAMC4zLjMxX29wZW5haUA0Ljc5LjFfd3NAOC4xOC4wX3pvZEAzLjI0LjFfXy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vbGxhbWEvZGlzdC90eXBlcy5qcz9iYzk5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/utils.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/utils.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertOllamaMessagesToLangChain: () => (/* binding */ convertOllamaMessagesToLangChain),\n/* harmony export */   convertToOllamaMessages: () => (/* binding */ convertToOllamaMessages)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1_/node_modules/@langchain/core/messages.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n\n\nfunction convertOllamaMessagesToLangChain(messages, extra) {\n    return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.AIMessageChunk({\n        content: messages.content ?? \"\",\n        tool_call_chunks: messages.tool_calls?.map((tc) => ({\n            name: tc.function.name,\n            args: JSON.stringify(tc.function.arguments),\n            type: \"tool_call_chunk\",\n            index: 0,\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(),\n        })),\n        response_metadata: extra?.responseMetadata,\n        usage_metadata: extra?.usageMetadata,\n    });\n}\nfunction extractBase64FromDataUrl(dataUrl) {\n    const match = dataUrl.match(/^data:.*?;base64,(.*)$/);\n    return match ? match[1] : \"\";\n}\nfunction convertAMessagesToOllama(messages) {\n    if (typeof messages.content === \"string\") {\n        return [\n            {\n                role: \"assistant\",\n                content: messages.content,\n            },\n        ];\n    }\n    const textFields = messages.content.filter((c) => c.type === \"text\" && typeof c.text === \"string\");\n    const textMessages = textFields.map((c) => ({\n        role: \"assistant\",\n        content: c.text,\n    }));\n    let toolCallMsgs;\n    if (messages.content.find((c) => c.type === \"tool_use\") &&\n        messages.tool_calls?.length) {\n        // `tool_use` content types are accepted if the message has tool calls\n        const toolCalls = messages.tool_calls?.map((tc) => ({\n            id: tc.id,\n            type: \"function\",\n            function: {\n                name: tc.name,\n                arguments: tc.args,\n            },\n        }));\n        if (toolCalls) {\n            toolCallMsgs = {\n                role: \"assistant\",\n                tool_calls: toolCalls,\n                content: \"\",\n            };\n        }\n    }\n    else if (messages.content.find((c) => c.type === \"tool_use\") &&\n        !messages.tool_calls?.length) {\n        throw new Error(\"'tool_use' content type is not supported without tool calls.\");\n    }\n    return [...textMessages, ...(toolCallMsgs ? [toolCallMsgs] : [])];\n}\nfunction convertHumanGenericMessagesToOllama(message) {\n    if (typeof message.content === \"string\") {\n        return [\n            {\n                role: \"user\",\n                content: message.content,\n            },\n        ];\n    }\n    return message.content.map((c) => {\n        if (c.type === \"text\") {\n            return {\n                role: \"user\",\n                content: c.text,\n            };\n        }\n        else if (c.type === \"image_url\") {\n            if (typeof c.image_url === \"string\") {\n                return {\n                    role: \"user\",\n                    content: \"\",\n                    images: [extractBase64FromDataUrl(c.image_url)],\n                };\n            }\n            else if (c.image_url.url && typeof c.image_url.url === \"string\") {\n                return {\n                    role: \"user\",\n                    content: \"\",\n                    images: [extractBase64FromDataUrl(c.image_url.url)],\n                };\n            }\n        }\n        throw new Error(`Unsupported content type: ${c.type}`);\n    });\n}\nfunction convertSystemMessageToOllama(message) {\n    if (typeof message.content === \"string\") {\n        return [\n            {\n                role: \"system\",\n                content: message.content,\n            },\n        ];\n    }\n    else if (message.content.every((c) => c.type === \"text\" && typeof c.text === \"string\")) {\n        return message.content.map((c) => ({\n            role: \"system\",\n            content: c.text,\n        }));\n    }\n    else {\n        throw new Error(`Unsupported content type(s): ${message.content\n            .map((c) => c.type)\n            .join(\", \")}`);\n    }\n}\nfunction convertToolMessageToOllama(message) {\n    if (typeof message.content !== \"string\") {\n        throw new Error(\"Non string tool message content is not supported\");\n    }\n    return [\n        {\n            role: \"tool\",\n            content: message.content,\n        },\n    ];\n}\nfunction convertToOllamaMessages(messages) {\n    return messages.flatMap((msg) => {\n        if ([\"human\", \"generic\"].includes(msg._getType())) {\n            return convertHumanGenericMessagesToOllama(msg);\n        }\n        else if (msg._getType() === \"ai\") {\n            return convertAMessagesToOllama(msg);\n        }\n        else if (msg._getType() === \"system\") {\n            return convertSystemMessageToOllama(msg);\n        }\n        else if (msg._getType() === \"tool\") {\n            return convertToolMessageToOllama(msg);\n        }\n        else {\n            throw new Error(`Unsupported message type: ${msg._getType()}`);\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvbGxhbWFAMC4xLjRfQGxhbmdjaGFpbitjb3JlQDAuMy4zMV9vcGVuYWlANC43OS4xX3dzQDguMTguMF96b2RAMy4yNC4xX18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb2xsYW1hL2Rpc3QvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyRDtBQUN2QjtBQUM3QjtBQUNQLGVBQWUsb0VBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFNO0FBQ3RCLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsT0FBTztBQUM1RCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxlQUFlO0FBQ3hFO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZ2NoYWluLW5leHRqcy10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29sbGFtYUAwLjEuNF9AbGFuZ2NoYWluK2NvcmVAMC4zLjMxX29wZW5haUA0Ljc5LjFfd3NAOC4xOC4wX3pvZEAzLjI0LjFfXy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vbGxhbWEvZGlzdC91dGlscy5qcz82MTRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFJTWVzc2FnZUNodW5rLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5leHBvcnQgZnVuY3Rpb24gY29udmVydE9sbGFtYU1lc3NhZ2VzVG9MYW5nQ2hhaW4obWVzc2FnZXMsIGV4dHJhKSB7XG4gICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2VDaHVuayh7XG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VzLmNvbnRlbnQgPz8gXCJcIixcbiAgICAgICAgdG9vbF9jYWxsX2NodW5rczogbWVzc2FnZXMudG9vbF9jYWxscz8ubWFwKCh0YykgPT4gKHtcbiAgICAgICAgICAgIG5hbWU6IHRjLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICBhcmdzOiBKU09OLnN0cmluZ2lmeSh0Yy5mdW5jdGlvbi5hcmd1bWVudHMpLFxuICAgICAgICAgICAgdHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcbiAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICB9KSksXG4gICAgICAgIHJlc3BvbnNlX21ldGFkYXRhOiBleHRyYT8ucmVzcG9uc2VNZXRhZGF0YSxcbiAgICAgICAgdXNhZ2VfbWV0YWRhdGE6IGV4dHJhPy51c2FnZU1ldGFkYXRhLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZXh0cmFjdEJhc2U2NEZyb21EYXRhVXJsKGRhdGFVcmwpIHtcbiAgICBjb25zdCBtYXRjaCA9IGRhdGFVcmwubWF0Y2goL15kYXRhOi4qPztiYXNlNjQsKC4qKSQvKTtcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IFwiXCI7XG59XG5mdW5jdGlvbiBjb252ZXJ0QU1lc3NhZ2VzVG9PbGxhbWEobWVzc2FnZXMpIHtcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2VzLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VzLmNvbnRlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0RmllbGRzID0gbWVzc2FnZXMuY29udGVudC5maWx0ZXIoKGMpID0+IGMudHlwZSA9PT0gXCJ0ZXh0XCIgJiYgdHlwZW9mIGMudGV4dCA9PT0gXCJzdHJpbmdcIik7XG4gICAgY29uc3QgdGV4dE1lc3NhZ2VzID0gdGV4dEZpZWxkcy5tYXAoKGMpID0+ICh7XG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IGMudGV4dCxcbiAgICB9KSk7XG4gICAgbGV0IHRvb2xDYWxsTXNncztcbiAgICBpZiAobWVzc2FnZXMuY29udGVudC5maW5kKChjKSA9PiBjLnR5cGUgPT09IFwidG9vbF91c2VcIikgJiZcbiAgICAgICAgbWVzc2FnZXMudG9vbF9jYWxscz8ubGVuZ3RoKSB7XG4gICAgICAgIC8vIGB0b29sX3VzZWAgY29udGVudCB0eXBlcyBhcmUgYWNjZXB0ZWQgaWYgdGhlIG1lc3NhZ2UgaGFzIHRvb2wgY2FsbHNcbiAgICAgICAgY29uc3QgdG9vbENhbGxzID0gbWVzc2FnZXMudG9vbF9jYWxscz8ubWFwKCh0YykgPT4gKHtcbiAgICAgICAgICAgIGlkOiB0Yy5pZCxcbiAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGMubmFtZSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHRjLmFyZ3MsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIGlmICh0b29sQ2FsbHMpIHtcbiAgICAgICAgICAgIHRvb2xDYWxsTXNncyA9IHtcbiAgICAgICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgICAgIHRvb2xfY2FsbHM6IHRvb2xDYWxscyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChtZXNzYWdlcy5jb250ZW50LmZpbmQoKGMpID0+IGMudHlwZSA9PT0gXCJ0b29sX3VzZVwiKSAmJlxuICAgICAgICAhbWVzc2FnZXMudG9vbF9jYWxscz8ubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIid0b29sX3VzZScgY29udGVudCB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aG91dCB0b29sIGNhbGxzLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFsuLi50ZXh0TWVzc2FnZXMsIC4uLih0b29sQ2FsbE1zZ3MgPyBbdG9vbENhbGxNc2dzXSA6IFtdKV07XG59XG5mdW5jdGlvbiBjb252ZXJ0SHVtYW5HZW5lcmljTWVzc2FnZXNUb09sbGFtYShtZXNzYWdlKSB7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZS5jb250ZW50Lm1hcCgoYykgPT4ge1xuICAgICAgICBpZiAoYy50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgICBjb250ZW50OiBjLnRleHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMudHlwZSA9PT0gXCJpbWFnZV91cmxcIikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjLmltYWdlX3VybCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IFtleHRyYWN0QmFzZTY0RnJvbURhdGFVcmwoYy5pbWFnZV91cmwpXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYy5pbWFnZV91cmwudXJsICYmIHR5cGVvZiBjLmltYWdlX3VybC51cmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiBbZXh0cmFjdEJhc2U2NEZyb21EYXRhVXJsKGMuaW1hZ2VfdXJsLnVybCldLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjb250ZW50IHR5cGU6ICR7Yy50eXBlfWApO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gY29udmVydFN5c3RlbU1lc3NhZ2VUb09sbGFtYShtZXNzYWdlKSB7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UuY29udGVudC5ldmVyeSgoYykgPT4gYy50eXBlID09PSBcInRleHRcIiAmJiB0eXBlb2YgYy50ZXh0ID09PSBcInN0cmluZ1wiKSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5jb250ZW50Lm1hcCgoYykgPT4gKHtcbiAgICAgICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgICAgICBjb250ZW50OiBjLnRleHQsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY29udGVudCB0eXBlKHMpOiAke21lc3NhZ2UuY29udGVudFxuICAgICAgICAgICAgLm1hcCgoYykgPT4gYy50eXBlKVxuICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9vbE1lc3NhZ2VUb09sbGFtYShtZXNzYWdlKSB7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm9uIHN0cmluZyB0b29sIG1lc3NhZ2UgY29udGVudCBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiBcInRvb2xcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgfSxcbiAgICBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb09sbGFtYU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2VzLmZsYXRNYXAoKG1zZykgPT4ge1xuICAgICAgICBpZiAoW1wiaHVtYW5cIiwgXCJnZW5lcmljXCJdLmluY2x1ZGVzKG1zZy5fZ2V0VHlwZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRIdW1hbkdlbmVyaWNNZXNzYWdlc1RvT2xsYW1hKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobXNnLl9nZXRUeXBlKCkgPT09IFwiYWlcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRBTWVzc2FnZXNUb09sbGFtYShtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1zZy5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydFN5c3RlbU1lc3NhZ2VUb09sbGFtYShtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1zZy5fZ2V0VHlwZSgpID09PSBcInRvb2xcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUb29sTWVzc2FnZVRvT2xsYW1hKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZTogJHttc2cuX2dldFR5cGUoKX1gKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/index.js":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/index.js ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatOllama: () => (/* reexport safe */ _dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ChatOllama),
/* harmony export */   Ollama: () => (/* reexport safe */ _dist_index_js__WEBPACK_IMPORTED_MODULE_0__.Ollama),
/* harmony export */   OllamaEmbeddings: () => (/* reexport safe */ _dist_index_js__WEBPACK_IMPORTED_MODULE_0__.OllamaEmbeddings)
/* harmony export */ });
/* harmony import */ var _dist_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/index.js */ "(rsc)/./node_modules/.pnpm/@langchain+ollama@0.1.4_@langchain+core@0.3.31_openai@4.79.1_ws@8.18.0_zod@3.24.1__/node_modules/@langchain/ollama/dist/index.js");


/***/ })

};
;